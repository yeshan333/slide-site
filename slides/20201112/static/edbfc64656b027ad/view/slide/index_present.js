(function(e){function t(t){var r=t[0],o=t[1],u=t[2],a,f,c=0,h=[];for(;c<r.length;c++)f=r[c],Object.prototype.hasOwnProperty.call(i,f)&&i[f]&&h.push(i[f][0]),i[f]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);l&&l(t);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){var e;for(var t=0;t<s.length;t++){var n=s[t],r=!0;for(var u=1;u<n.length;u++){var a=n[u];i[a]!==0&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}var r={},i={28:0,0:0},s=[];o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){t&1&&(e=o(e));if(t&8)return e;if(t&4&&typeof e=="object"&&e&&e.__esModule)return e;var n=Object.create(null);o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e});if(t&2&&typeof e!="string")for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/";var u=window.jsonpFunction=window.jsonpFunction||[],a=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var l=a;return s.push([1421,2,1]),n()})({1181:function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},1195:function(e,t,n){(function(){var t=n(1408),r=n(1181).utf8,i=n(1409),s=n(1181).bin,o=function(e,n){e.constructor==String?n&&n.encoding==="binary"?e=s.stringToBytes(e):e=r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var u=t.bytesToWords(e),a=e.length*8,f=1732584193,l=-271733879,c=-1732584194,h=271733878;for(var p=0;p<u.length;p++)u[p]=(u[p]<<8|u[p]>>>24)&16711935|(u[p]<<24|u[p]>>>8)&4278255360;u[a>>>5]|=128<<a%32,u[(a+64>>>9<<4)+14]=a;var d=o._ff,v=o._gg,m=o._hh,g=o._ii;for(var p=0;p<u.length;p+=16){var y=f,b=l,w=c,E=h;f=d(f,l,c,h,u[p+0],7,-680876936),h=d(h,f,l,c,u[p+1],12,-389564586),c=d(c,h,f,l,u[p+2],17,606105819),l=d(l,c,h,f,u[p+3],22,-1044525330),f=d(f,l,c,h,u[p+4],7,-176418897),h=d(h,f,l,c,u[p+5],12,1200080426),c=d(c,h,f,l,u[p+6],17,-1473231341),l=d(l,c,h,f,u[p+7],22,-45705983),f=d(f,l,c,h,u[p+8],7,1770035416),h=d(h,f,l,c,u[p+9],12,-1958414417),c=d(c,h,f,l,u[p+10],17,-42063),l=d(l,c,h,f,u[p+11],22,-1990404162),f=d(f,l,c,h,u[p+12],7,1804603682),h=d(h,f,l,c,u[p+13],12,-40341101),c=d(c,h,f,l,u[p+14],17,-1502002290),l=d(l,c,h,f,u[p+15],22,1236535329),f=v(f,l,c,h,u[p+1],5,-165796510),h=v(h,f,l,c,u[p+6],9,-1069501632),c=v(c,h,f,l,u[p+11],14,643717713),l=v(l,c,h,f,u[p+0],20,-373897302),f=v(f,l,c,h,u[p+5],5,-701558691),h=v(h,f,l,c,u[p+10],9,38016083),c=v(c,h,f,l,u[p+15],14,-660478335),l=v(l,c,h,f,u[p+4],20,-405537848),f=v(f,l,c,h,u[p+9],5,568446438),h=v(h,f,l,c,u[p+14],9,-1019803690),c=v(c,h,f,l,u[p+3],14,-187363961),l=v(l,c,h,f,u[p+8],20,1163531501),f=v(f,l,c,h,u[p+13],5,-1444681467),h=v(h,f,l,c,u[p+2],9,-51403784),c=v(c,h,f,l,u[p+7],14,1735328473),l=v(l,c,h,f,u[p+12],20,-1926607734),f=m(f,l,c,h,u[p+5],4,-378558),h=m(h,f,l,c,u[p+8],11,-2022574463),c=m(c,h,f,l,u[p+11],16,1839030562),l=m(l,c,h,f,u[p+14],23,-35309556),f=m(f,l,c,h,u[p+1],4,-1530992060),h=m(h,f,l,c,u[p+4],11,1272893353),c=m(c,h,f,l,u[p+7],16,-155497632),l=m(l,c,h,f,u[p+10],23,-1094730640),f=m(f,l,c,h,u[p+13],4,681279174),h=m(h,f,l,c,u[p+0],11,-358537222),c=m(c,h,f,l,u[p+3],16,-722521979),l=m(l,c,h,f,u[p+6],23,76029189),f=m(f,l,c,h,u[p+9],4,-640364487),h=m(h,f,l,c,u[p+12],11,-421815835),c=m(c,h,f,l,u[p+15],16,530742520),l=m(l,c,h,f,u[p+2],23,-995338651),f=g(f,l,c,h,u[p+0],6,-198630844),h=g(h,f,l,c,u[p+7],10,1126891415),c=g(c,h,f,l,u[p+14],15,-1416354905),l=g(l,c,h,f,u[p+5],21,-57434055),f=g(f,l,c,h,u[p+12],6,1700485571),h=g(h,f,l,c,u[p+3],10,-1894986606),c=g(c,h,f,l,u[p+10],15,-1051523),l=g(l,c,h,f,u[p+1],21,-2054922799),f=g(f,l,c,h,u[p+8],6,1873313359),h=g(h,f,l,c,u[p+15],10,-30611744),c=g(c,h,f,l,u[p+6],15,-1560198380),l=g(l,c,h,f,u[p+13],21,1309151649),f=g(f,l,c,h,u[p+4],6,-145523070),h=g(h,f,l,c,u[p+11],10,-1120210379),c=g(c,h,f,l,u[p+2],15,718787259),l=g(l,c,h,f,u[p+9],21,-343485551),f=f+y>>>0,l=l+b>>>0,c=c+w>>>0,h=h+E>>>0}return t.endian([f,l,c,h])};o._ff=function(e,t,n,r,i,s,o){var u=e+(t&n|~t&r)+(i>>>0)+o;return(u<<s|u>>>32-s)+t},o._gg=function(e,t,n,r,i,s,o){var u=e+(t&r|n&~r)+(i>>>0)+o;return(u<<s|u>>>32-s)+t},o._hh=function(e,t,n,r,i,s,o){var u=e+(t^n^r)+(i>>>0)+o;return(u<<s|u>>>32-s)+t},o._ii=function(e,t,n,r,i,s,o){var u=e+(n^(t|~r))+(i>>>0)+o;return(u<<s|u>>>32-s)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(e===undefined||e===null)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(o(e,n));return n&&n.asBytes?r:n&&n.asString?s.bytesToString(r):t.bytesToHex(r)}})()},1407:function(e,t,n){},1408:function(e,t){(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return n.rotl(e,8)&16711935|n.rotl(e,24)&4278255360;for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(Math.random()*256));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<e.length*32;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((e[n]&15).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3){var i=e[r]<<16|e[r+1]<<8|e[r+2];for(var s=0;s<4;s++)r*8+s*6<=e.length*8?n.push(t.charAt(i>>>6*(3-s)&63)):n.push("=")}return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4){if(i==0)continue;n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<i*2|t.indexOf(e.charAt(r))>>>6-i*2)}return n}};e.exports=n})()},1409:function(e,t){function n(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function r(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&n(e.slice(0,0))}e.exports=function(e){return e!=null&&(n(e)||r(e)||!!e._isBuffer)}},1410:function(e,t,n){"use strict";var r=n(982),i=n.n(r),s=i.a},1421:function(e,t,n){"use strict";function I(e,t){return U(e)||R(e,t)||q()}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function R(e,t){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}return n}return}function U(e){if(Array.isArray(e))return e}n.r(t);var r=n(382),i=n(7),s=n.n(i),o=n(1),u=n(68),a=n(571),f=n(570),l=n(518),c=n(74),h=n(519),p=n(493),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"u-full-container"},[n("plugin-slide",{staticClass:"PagePresent-pageSlide","class":e.slideClass,attrs:{slide:e.slide,type:"present"}}),e._v(" "),e.showPanel&&e.needPanel?n("div",{staticClass:"u-full-container PagePresent-shadow"}):e._e(),e._v(" "),e.needPanel?n("div",{staticClass:"PagePresent-panel","class":e.panelClass},[n("page-header",{staticClass:"PagePresent-pageHeader",attrs:{myself:e.myself}}),e._v(" "),n("dl",{staticClass:"PagePresent-console"},[n("h2",[e._v("演讲控制选项")]),e._v(" "),n("dd",[n("h3",[e._v("演讲者模式")]),e._v(" "),n("p",[e._v("启用演讲者模式后，你可以在系统打开的演讲者窗口中，看到当前页的演讲笔记，及下一页文稿的预览画面。")]),e._v(" "),n("button",{staticClass:"Button--secondary Button--medium Button--outline PagePresent-button",on:{click:e.openSpeakerView}},[e._v("演讲者模式")])]),e._v(" "),n("dd",[n("h3",[e._v("选项")]),e._v(" "),n("label",{staticClass:"PagePresent-option control-item",staticStyle:{height:"auto"},attrs:{"for":"remoteControl-opt"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.remoteControl,expression:"remoteControl"}],staticClass:"PagePresent-input",attrs:{id:"remoteControl-opt",type:"checkbox",name:"option"},domProps:{checked:Array.isArray(e.remoteControl)?e._i(e.remoteControl,null)>-1:e.remoteControl},on:{click:e.toggleControl,change:function(t){var n=e.remoteControl,r=t.target,i=r.checked?!0:!1;if(Array.isArray(n)){var s=null,o=e._i(n,s);r.checked?o<0&&(e.remoteControl=n.concat([s])):o>-1&&(e.remoteControl=n.slice(0,o).concat(n.slice(o+1)))}else e.remoteControl=i}}}),e._v("  远程控制\n          "),e.remoteControl?n("div",[n("p",[e._v("扫描二维码，你可以通过手机来控制当前PPT。二维码的有效时间为30分钟，超时后请重新扫码。")]),e._v(" "),n("div",{staticClass:"control-icon"},[n("i",{staticClass:"icon icon-qrcode",on:{mouseenter:e.showQrcode,mouseleave:e.hideQrcode}}),e._v(" "),e.showQrcodeImg?n("img",{staticClass:"control-qrcode",attrs:{src:e.qrcodeUrl,width:"150",height:"150",alt:""}}):e._e()])]):e._e()]),e._v(" "),n("label",{staticClass:"PagePresent-option",attrs:{"for":"fullscreen-opt"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.fullscreen,expression:"fullscreen"}],staticClass:"PagePresent-input",attrs:{id:"fullscreen-opt",type:"checkbox",name:"option"},domProps:{checked:Array.isArray(e.fullscreen)?e._i(e.fullscreen,null)>-1:e.fullscreen},on:{click:e.toggleFullScreen,change:function(t){var n=e.fullscreen,r=t.target,i=r.checked?!0:!1;if(Array.isArray(n)){var s=null,o=e._i(n,s);r.checked?o<0&&(e.fullscreen=n.concat([s])):o>-1&&(e.fullscreen=n.slice(0,o).concat(n.slice(o+1)))}else e.fullscreen=i}}}),e._v(" "),n("span",{staticClass:"PagePresent-option-text"},[e._v("全屏播放")])])])]),e._v(" "),n("footer",{staticClass:"PagePresent-footer"},[n("button",{staticClass:"Button--primary Button--big",on:{click:e.closePanel}},[e._v("开始演讲")])])],1):e._e(),e._v(" "),e.needPanel?n("div",{staticClass:"PagePresent-panel-expander"},[n("div",{staticClass:"PagePresent-panel-expander-button",on:{click:e.openPanel}},[n("i",{staticClass:"icon-right-small"})])]):e._e()],1)},v=[],m=n(1407),g=n(31),y=n.n(g),b=function(){function e(e){function r(){var e=setInterval(function(){n.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",url:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,state:y.a.getState()}),"*")},500);window.addEventListener("message",function(t){var n=JSON.parse(t.data);n&&n.namespace==="reveal-notes"&&n.type==="connected"&&(clearInterval(e),s())})}function i(){var e=y.a.getCurrentSlide(),t=e.querySelector("aside.notes"),r={namespace:"reveal-notes",type:"state",notes:"",markdown:!1,whitespace:"normal",state:y.a.getState()};e.hasAttribute("data-notes")&&(r.notes=e.getAttribute("data-notes"),r.whitespace="pre-wrap"),t&&(r.notes=t.innerHTML,r.markdown=typeof t.getAttribute("data-markdown")=="string"),n.postMessage(JSON.stringify(r),"*")}function s(){y.a.addEventListener("slidechanged",i),y.a.addEventListener("fragmentshown",i),y.a.addEventListener("fragmenthidden",i),y.a.addEventListener("overviewhidden",i),y.a.addEventListener("overviewshown",i),y.a.addEventListener("paused",i),y.a.addEventListener("resumed",i),i()}if(!e){var t=document.querySelector('script[src$="notes.js"]').src;t=t.replace(/notes\.js(\?.*)?$/,""),e=t+"notes.html"}var n=window.open(e,"reveal.js - Notes","width=1100,height=700");console.log(e,n),r()}if(!o.s)return;return/receiver/i.test(window.location.search)||(window.location.search.match(/(\?|\&)notes/gi)!==null&&e(),document.addEventListener("keydown",function(t){if(document.querySelector(":focus")!==null||t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)return;if(y.a.getConfig().keyboard===!1)return;t.keyCode===83&&(t.preventDefault(),e())},!1),window.Reveal&&y.a.registerKeyboardShortcut("S","Speaker notes view")),{open:e}}(),w=b,E=n(1195),S=n.n(E),x=n(1180),T={data:function(){return{showPanel:!0,fullscreen:!1,needPanel:!0,showQrcodeImg:!1,remoteControl:!1}},computed:{panelClass:function(){return this.showPanel?{}:{"PagePresent-panel--hidden":!0}},slideClass:function(){return this.showPanel?{"PagePresent-pageSlide--frozen":!0}:{}}},mounted:function(){this.bindEvents(),setTimeout(o.K,1e4),this.isInIframe()&&(this.needPanel=!1,this.showPanel=!1,this.checkIframe())},beforeDestroy:function(){this.bindEvents(!0),this.socket&&this.closeSocket()},methods:{isInIframe:function(){return window.top!==window},makeQrcodeUrl:function(){var t=Date.now(),n="xrgdcvbgijfg76",r=S()("".concat(this.slide_id).concat(t).concat(n)),i="".concat(location.protocol,"//").concat(location.host);return x.getQrBase64("".concat(i,"/mobile/control/").concat(this.slide_id,"?token=").concat(r,"&ctime=").concat(t),{padding:10,width:256,height:256,correctLevel:window.QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"})},showQrcode:function(){this.showQrcodeImg=!0,this.qrcodeUrl=this.makeQrcodeUrl()},hideQrcode:function(){this.showQrcodeImg=!1},initSocket:function(){var t=this;this.socket=io({query:{type:"present",slide_id:this.slide_id}}),this.socket.on("open",function(e){console.log("open")}),this.socket.on("requestPageInfo",function(e){t.socket.emit("syncPageInfo",Object.assign({},y.a.getState(),{len:t.slidePageLen,slide_id:t.slide_id}))}),this.socket.on("pagenext",function(e){return y.a.next()}),this.socket.on("pageprev",function(e){return y.a.prev()})},preFetch:function(t){var n=t.slide,r=t.myself,i=t.slideInfo,s=t.controlPageOpened;return this.remoteControl=s,this.slide=n,this.slide_id=i.slide_id,this.slidePageLen=this.slide.pages.length,this.myself=r,this.remoteControl&&this.initSocket(),Promise.resolve()},bindEvents:function(t){var n=t?"removeEventListener":"addEventListener";y.a[n]("ready",this.revealReady),y.a[n]("slidechanged",this.slideChanged),document[n]("webkitfullscreenchange",this.fullScreenUnchecked),document[n]("mozfullscreenchange",this.fullScreenUnchecked),document[n]("fullscreenchange",this.fullScreenUnchecked)},checkIframe:function(){var t=this;return new Promise(function(e){var n=t.slide.pages;location.protocol.match(/https/)?Object(o.q)(n,"http://")?c.a.confirm("您观看的幻灯片中包含http协议的iframe，https模式下无法观看，是否需要进行跳转？",function(t){t?location.protocol="http:":e()}):e():e()})},closePanel:function(){this.showPanel=!1},slideChanged:function(t){this.syncPage()},fullScreenUnchecked:function(t){!document.webkitFullscreenElement&&!document.mozFullScreenElement&&!document.fullscreenElement&&(this.fullscreen=!1)},openPanel:function(){this.showPanel=!0},openSpeakerView:function(t){t.preventDefault();var n=document.querySelector("#speakerSrc").getAttribute("src");w.open(n)},revealReady:function(){y.a.configure({history:!0}),Object(o.K)(),this.syncPage()},toggleFullScreen:function(){var t=this.fullscreen;t?Object(o.i)():Object(o.I)(this.$el)},toggleControl:function(){var t=this.remoteControl;t?this.closeSocket():this.initSocket()},closeSocket:function(){if(!this.socket)return;this.socket.emit("close"),this.socket.close()},syncPage:function(){if(!this.socket||this.isInIframe())return;this.socket.emit("syncPageInfo",Object.assign({},y.a.getState(),{len:this.slidePageLen,slide_id:this.slide_id}))}}},N=T,C=n(8),k=Object(C.a)(N,d,v,!1,null,null,null),L=k.exports,A=n(537),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"Header"},[n("div",{staticClass:"u-container Header-inner"},[e._m(0,!1,!1),e._v(" "),n("div",{staticClass:"Header-userMenu",on:{click:function(t){e.navigateTo("/user/center")}}},[e.myself?n("div",{staticClass:"UserMenu Popout"},[n("img",{staticClass:"UserMenu-avatar",attrs:{src:e.myself.user_avatar,alt:"portrait"}}),e._v(" "),n("span",{staticClass:"UserMenu-name"},[e._v(e._s(e.myself.user_name))]),e._v(" "),n("i",{staticClass:"UserMenu-menuIcon icon-menu"}),e._v(" "),e._m(1,!1,!1)]):n("a",{staticClass:"Header-loginBtn",attrs:{href:"/login"}},[e._v("登录")])])])])},M=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{attrs:{href:"/"}},[r("img",{staticClass:"Header-logo",attrs:{src:n(931),alt:"logo"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"UserMenu-list Popout-content Popout-content--below "},[n("li",[n("a",{attrs:{href:"/user/center"}},[e._v("个人中心"),n("i",{staticClass:"icon-user"})])]),e._v(" "),n("li",[n("a",{attrs:{href:"/editor"}},[e._v("新建演示"),n("i",{staticClass:"icon-plus"})])]),e._v(" "),n("li",[n("a",{attrs:{href:"/user/setting"}},[e._v("帐户设置"),n("i",{staticClass:"icon-pencil"})])]),e._v(" "),n("li",[n("a",{attrs:{href:"/home/oauth/signout"}},[e._v("退出登录"),n("i",{staticClass:"icon-logout"})])])])}],_={props:{myself:{required:!0}},methods:{navigateTo:function(t){window.location.href=t}}},D=_,P=n(1410),H=Object(C.a)(D,O,M,!1,null,null,null),B=H.exports,j=n(470),F=n(389);s.a.component("slide-countdown",a.a),s.a.component("slide-player",f.a),s.a.component("vue-dialog",c.a),s.a.component("resource-share",l.a),s.a.component("gallary-infocard",h.a),s.a.component("image-croper",p.a),s.a.component("mount-vessel",L),s.a.component("page-header",B);var z=new s.a(L);o.s&&Promise.all([j.a.getLatestSlide(),new Promise(function(e){return F.a.detail().then(e,function(){return e()})}),j.a.getSlideInfo(),SD.controlPageOpened]).then(function(e){var t=I(e,4),n=t[0],r=t[1],i=t[2],s=t[3];z.preFetch({slide:n,myself:r,slideInfo:i,controlPageOpened:s}).then(function(){z.$mount(u.c?'[server-rendered="true"]':'[no-login="true"]'),u.c||(document.title="演讲 | "+i.slide_title)})});var W=t["default"]=function(e){return z.preFetch({slide:JSON.parse(e.slide.slide_config),myself:e.myself}).then(function(){return z})}},172:function(e,t){e.exports=echarts},380:function(e,t,n){e.exports=n.p+"/Users/liguangzhao/Documents/workspace/ppt.baomitu.com/fesrc/view/inc/page-footer/main.html"},381:function(e,t,n){e.exports=n.p+"/Users/liguangzhao/Documents/workspace/ppt.baomitu.com/fesrc/view/inc/page-header/main.html"},400:function(e,t,n){},401:function(e,t,n){},408:function(e,t,n){},413:function(e,t,n){},414:function(e,t,n){},415:function(e,t,n){},416:function(e,t,n){},425:function(e,t,n){},426:function(e,t,n){},435:function(e,t,n){"use strict";var r=n(400),i=n.n(r),s=i.a},448:function(e,t,n){"use strict";function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Plugin","class":e.classes,style:e.styles,attrs:{"data-fragment-index":e.fragment&&e.fragment.index,"data-animation-type":e.animationType}},[e.link&&e.pretype?n("a",{staticStyle:{display:"block",width:"100%",height:"100%"},attrs:{href:e.element.link,target:"_blank",rel:"noopener noreferrer"}},[e._t("link",[e._v("it should be a link here")])],2):e._e(),e._v(" "),!e.link||!e.pretype?e._t("normal"):e._e()],2)},i=[],s=n(474),o=n(2),u=n(1),a=n(385),l={computed:{presenting:function(){return this.$parent.currentPage===this.$parent.pageIndex},type:function(){return this.$parent.type},element:function(){return this.$parent.element},elementIndex:function(){return this.$parent.elementIndex},pageIndex:function(){return this.$parent.pageIndex},page:function(){return this.$parent.$parent.page},group:function(){return this.element.group?this.$parent.$parent.page.groups[this.element.group]:!1},groupFirst:function(){return this.element.group?this.group:this.element},fragment:function(){return this.groupFirst.fragment},pretype:function(){return this.type.match(/present|preview|display/)},animationType:function(){return this.pretype||this.addAnimationType?this.groupFirst.animations&&this.groupFirst.animations[0].type:undefined},classes:function v(){var v=Object.assign({fragment:!1,visible:!1,"Plugin--inGroup":Boolean(this.element.group)},this.$parent.editorClasses||{});return this.fragment?this.type==="editing"?v:this.type==="fragment"?Object.assign(v,{visible:!0,fragment:!0}):Object.assign(v,f({fragment:!0},this.fragment.animation,!0)):(this.addAnimationType&&!this.addAnimationTransition&&Object.assign(v,{"Plugin--animationPreview":!0}),this.element.animations&&this.type==="fragment"&&Object.assign(v,{"fragment--disable":!0}),v)},link:function(){return this.$parent.slot=this.element.link&&Object(u.H)(this.element.link)&&this.pretype?"link":"normal",Boolean(this.element.link)&&Object(u.H)(this.element.link)},styles:function m(){var m={};switch(this.element.type){case"plugin-line":case"plugin-image":case"plugin-shape":Object.assign(m,this.element.styles,{"line-height":"0","font-size":"0"});break;default:Object.assign(m,this.element.styles,this.type)}this.animationType&&this.addAnimationTransition===this.addAnimationType&&Object.assign(m,{"transition-duration":this.groupFirst.animations[0].duration,"transition-delay":this.groupFirst.animations[0].delay});var e=this.element.magicMove;return e&&this.pretype&&Object.assign(m,Object(a.a)(e)),(e&&this.pretype&&this.presenting||e&&this.magicMoveOutgoingLock)&&Object.assign(m,Object(a.b)(e,!this.isIncomingSlide||this.magicMoveOutgoingLock)),this.type.match(/editing|fragment/)&&(this.group&&this.group.invisible||this.element.invisible)&&(m.display="none"),m}},data:function(){return{addAnimationType:!1,addAnimationTransition:!1,isIncomingSlide:!1,magicMoveOutgoingLock:!1}},created:function(){o.a.$on("preview-plugin-animation",this._previewAnimation)},beforeDestroy:function(){o.a.$off("preview-plugin-animation",this._previewAnimation)},watch:{"$parent.currentPage":function(t,n){this.isIncomingSlide=t>n&&t===this.pageIndex,this.magicMoveOutgoingLock=t>n&&t>this.pageIndex}},methods:{_afterRender:function(t){var n=this;return new Promise(function(e){n.$nextTick().then(function(){return requestAnimationFrame(t||e)})})},_resetAnimation:function(){this.addAnimationType=this.addAnimationTransition=!1,o.a.$off("report-click-position",this._resetAnimation),window.removeEventListener("keydown",this._resetAnimation)},_previewAnimation:function(t){var n=this,r=t.pageIndex;this.type==="editing"&&this.pageIndex===r&&this.groupFirst.animations&&(this._resetAnimation(),this._afterRender(function(){o.a.$on("report-click-position",n._resetAnimation),window.addEventListener("keydown",n._resetAnimation),n.addAnimationType=!0,n._afterRender(function(){n.addAnimationTransition=!0;var e=(Number.parseFloat(n.groupFirst.animations[0].duration)+Number.parseFloat(n.groupFirst.animations[0].delay))*1e3+100;setTimeout(function(){n._resetAnimation(),n.$parent.selected&&n.$parent.selectLayer&&n.$parent.selectLayer()},e)})}))}}},c=l,h=n(8),p=Object(h.a)(c,r,i,!1,null,null,null),d=t.a=p.exports},449:function(e,t,n){"use strict";function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PluginSlide","class":e.classes},[n("div",{directives:[{name:"gesture",rawName:"v-gesture:horizontal-swipe",value:e.swipeHandler,expression:"swipeHandler",arg:"horizontal-swipe"}],staticClass:"reveal","class":e.slideClasses,style:e.thumbnailStyle},[n("div",{ref:"pagesPanel",staticClass:"slides"},[e._l(e.slide.pages,function(t,r){return[n("plugin-page",{key:t.id,ref:"page",refInFor:!0,attrs:{"page-index":e.slide.navPageIndex?e.slide.navPageIndex:r,page:t,type:e.type,"current-page":e.currentPage}})]})],2)])])},i=[],s=n(475),o=n(476),u=n(31),a=n.n(u),l={props:{slide:{type:Object,required:!0},type:{type:String,"default":"present"},extraConfig:{type:Object,"default":function(){return{}}},thumbnail:{type:Boolean,"default":!1},scale:{type:Object,"default":function(){return{x:1,y:1}}}},data:function(){return{thumbnailAble:!1,defaultConfig:{touch:!1},currentPage:0}},computed:{classes:function(){var t;return t={RevealViewPort:!0,"PluginSlide--thumbnail":this.thumbnail},f(t,"theme-color--"+(this.slide.colors&&this.slide.colors.name),!0),f(t,"PluginSlide--"+this.type,!0),f(t,"theme-font--"+this.slide.font,!0),t},slideClasses:function(){return{"ppt-show-mode":this.slide.config.pptMode}},thumbnailStyle:function(){return this.thumbnail&&this.thumbnailAble?{transform:"scale("+this.scale.x+","+this.scale.y+")",width:this.slide.config.width+"px",height:this.slide.config.height+"px","transform-origin":"0 0","background-position":"50% 50%","background-image":this.slide.pages[0]["background-image"]?"url("+this.slide.pages[0]["background-image"]+")":"none","background-color":this.slide.pages[0]["background-color"]||"transparent","background-size":this.slide.pages[0]["background-size"]||"none","background-repeat":"no-repeat"}:{}}},mounted:function(){var t=this;this.$nextTick(function(){t.thumbnail||t.initialize(),t.thumbnailAble=!0}),a.a.addEventListener("slidechanged",this.slideChanged)},beforeDestroy:function(){a.a.removEventListener("slidechanged",this.slideChanged)},methods:{slideChanged:function(t){this.currentPage=t.indexh},initialize:function(){var t;this.type==="editing"?t=Object.assign({},this.defaultConfig,this.slide.config,this.extraConfig):t=Object.assign({},this.defaultConfig,this.slide.config);try{a.a.initialize(t)}catch(n){setTimeout(function(){throw n})}},swipeHandler:function(t){t==="right"?a.a.prev():t==="left"&&a.a.next()}}},c=l,h=n(8),p=Object(h.a)(c,r,i,!1,null,null,null),d=t.a=p.exports},450:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"PluginPage",style:e.styles,attrs:{"data-opacity":e.page.opacity,"data-background-color":e.page["background-color"],"data-background-size":e.page["background-size"],"data-background-image":e.page["background-image"],"data-transition":e.transitionOverride.transition,"data-transition-speed":e.transitionOverride.speed}},[e._l(e.page.groups,function(t){return[e.type.match(/editing|fragment/)?n("plugin-group",{attrs:{"page-index":e.pageIndex,group:t,type:e.type}}):e._e()]}),e._v(" "),e._l(e.page.elements,function(t,r){return[t.type=="plugin-text"?[n("plugin-text",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e(),e._v(" "),t.type=="plugin-image"?[n("plugin-image",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e(),e._v(" "),t.type=="plugin-shape"?[n("plugin-shape",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e(),e._v(" "),t.type=="plugin-line"?[n("plugin-line",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e(),e._v(" "),t.type=="plugin-code"?[n("plugin-code",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e(),e._v(" "),t.type=="plugin-iframe"?[n("plugin-iframe",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e(),e._v(" "),t.type=="plugin-table"?[n("plugin-table",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e(),e._v(" "),t.type=="plugin-highlighter"?[n("plugin-highlighter",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e(),e._v(" "),t.type=="plugin-math"?[n("plugin-math",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e(),e._v(" "),t.type=="plugin-tabledata"?[n("plugin-tabledata",{attrs:{"page-index":e.pageIndex,"element-index":r,element:t,type:e.type,"current-page":e.currentPage}})]:e._e()]}),e._v(" "),e.page.notes?n("aside",{staticClass:"notes",domProps:{textContent:e._s(e.page.notes)}}):e._e(),e._v(" "),e.type==="order"?n("div",{staticClass:"PluginPage-order",on:{click:e.backToEditing}},[n("i",{staticClass:"icon-left-circled PluginPage-moveto-left",attrs:{"data-direction":"left"},on:{click:e.move}}),e._v(" "),n("i",{staticClass:"icon-right-circled PluginPage-moveto-right",attrs:{"data-direction":"right"},on:{click:e.move}})]):e._e()],2)},i=[],s=n(2),o=n(477),u={props:{pageIndex:{type:Number,required:!0},page:{type:Object,required:!0},type:{type:String,required:!0},currentPage:{type:Number,required:!0,"default":0}},computed:{styles:function(){return Object.assign({width:"100%",height:"100%",top:"0px",left:"0px",padding:"0",margin:"0",color:this.page.color,"border-color":this.page.color},this.page.styles||{})},transitionOverride:function(){var t={transition:!1,speed:"normal"};return this.page.magicmove&&(t.transition="fade-out",t.speed="fast"),this.page.magicmove_animated&&this.currentPage<this.pageIndex&&(t.transition="none"),t}},mounted:function(){},methods:{move:function(t){var n=$(t.target).attr("data-direction"),r=this.pageIndex;s.a.$emit("config-page-order",{direction:n,pageIndex:r}),t.stopPropagation()},backToEditing:function(t){s.a.$emit("config-type","editing")}}},a=u,f=n(8),l=Object(f.a)(a,r,i,!1,null,null,null),c=t.a=l.exports},451:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("plugin-base",{ref:"parent",staticClass:"PluginText"},[n("div",{ref:"textarea",attrs:{slot:e.slot},domProps:{innerHTML:e._s(e.text)},on:{keydown:e.contentReposition},slot:e.slot})])},i=[],s=n(479),o=n(1),u=n(2),a={data:function(){return{slot:"",selected:!1,textDisplayable:!0,resized:!1,dragged:!1}},props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0},type:{type:String,required:!0,"default":""},currentPage:{type:Number,required:!0,"default":0}},mounted:function(){this.dragged=!!this.element.content},computed:{text:function(){return this.textDisplayable?Object(o.r)(this.element.content)?this.element.content:this.element.placeholder:""}},methods:{delayRender:function(){var t=this;if(this.type!=="editing")return;this.textDisplayable=!1,this.$nextTick(function(){t.textDisplayable=!0,t.dragged=!!t.element.content})},offsetWidth:function(){return this.$refs.parent.$el.getBoundingClientRect().width},contentReposition:function(){if(!this.resized&&!this.dragged){var t=this.$refs.parent.$el.parentElement.offsetWidth;u.a.$emit("config-element-styles",{styles:{left:t/2-this.offsetWidth()/2+"px"}},this.elementIndex,this.pageIndex)}},updateWidth:function(){u.a.$emit("config-element-styles",{styles:{_width:this.offsetWidth()}},this.elementIndex,this.pageIndex)}},watch:{type:function(t){this.delayRender()}}},f=a,l=n(8),c=Object(l.a)(f,r,i,!1,null,null,null),h=t.a=c.exports},452:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("plugin-base",{staticClass:"PluginImage","class":{loading:e.element.src=="loading"||this.loading}},[n("div",{staticStyle:{height:"100%"},attrs:{slot:e.slot},slot:e.slot},[n("i",{staticClass:"icon-pencil",on:{click:e.cutImage}}),e._v(" "),n("img",{ref:"image",style:e.styles,attrs:{src:e.element.src},on:{click:e.reload,dblclick:e.dblclick}}),e._v(" "),e.element.src=="loading"||this.loading?n("i",{staticClass:"icon-spin6 animate-spin"}):e._e(),e._v(" "),n("image-croper",{ref:"pluginImageCroper"})],1)])},i=[],s=n(480),o=n(2),u=n(1),a=n(78),f={props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},type:{type:String,required:!0},currentPage:{type:Number,required:!0,"default":0}},computed:{styles:function(){var t=Object(u.O)(this.element.styles["border-radius"]),n=Object(u.O)(this.element.styles["border-width"]||0);return{"border-radius":Object(u.N)(Math.max(t-n,0))}}},data:function(){return{slot:"normal",reloadable:!1,loading:!1,showImageCroper:!1}},created:function(){},mounted:function(){this.$nextTick(this.bindEvents)},beforeDestroy:function(){this.bindEvents(!0)},methods:{bindEvents:function(t){var n=t?"removeEventListener":"addEventListener";this.$refs.image[n]("error",this.loadFailed),this.$refs.image[n]("abort",this.loadFailed),this.$refs.image[n]("load",this.loadSuccess)},cutImage:function(){var t=this.element.src,n={src:t,callback:function(t){o.a.$emit("substitute-plugin-image-without-choose",[t]),a.c.addByCrop(t)}};this.$refs.pluginImageCroper.showImageCroper(n)},dblclick:function(){this.type==="editing"&&o.a.$emit("substitute-plugin-image")},loadFailed:function(t){this.reloadable=!0},loadSuccess:function(t){this.reloadable=!1},reload:function(t){this.reloadable&&(t.preventDefault(),t.stopPropagation(),this.$refs.image.src="",this.$refs.image.src=this.element.src)}}},l=f,c=n(8),h=Object(c.a)(l,r,i,!1,null,null,null),p=t.a=h.exports},453:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("plugin-base",[n("div",{staticClass:"PluginShape",attrs:{slot:e.slot},domProps:{innerHTML:e._s(e.code)},on:{dblclick:e.dblclick},slot:e.slot})])},i=[],s=n(481),o=n(2),u={props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},type:{type:String,required:!0},currentPage:{type:Number,required:!0,"default":0}},data:function(){return{slot:"normal"}},computed:{code:function(){return this.element.code}},methods:{dblclick:function(){this.type==="editing"&&o.a.$emit("substitute-plugin-shape")}}},a=u,f=n(8),l=Object(f.a)(a,r,i,!1,null,null,null),c=t.a=l.exports},454:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("plugin-base",{staticClass:"PluginLine",attrs:{bolder:e.bolder}},[n("div",{style:{color:e.element.stroke},attrs:{slot:e.slot},slot:e.slot},[n("svg",e._b({ref:"svg",staticStyle:{overflow:"visible"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},"svg",e.svgAttr,!1),[n("line",{attrs:{x1:e.element.x1,y1:e.element.y1,x2:e.element.x2,y2:e.element.y2,stroke:"currentColor","stroke-width":e.element.strokeWidth,"stroke-dasharray":e.strokeDasharray,"stroke-linecap":e.strokeLinecap}}),e._v(" "),e._l([e.element.start,e.element.end],function(t,r){return[t===1?n("path",{staticStyle:{fill:"rgba(0,0,0,0)"},attrs:{"stroke-width":e.element.strokeWidth,stroke:"currentColor",transform:e.endpointPos[r],d:e.endpointSize[r]}}):e._e(),e._v(" "),t===2?n("polygon",{attrs:{"stroke-width":e.element.strokeWidth,fill:"currentColor",transform:e.endpointPos[r],points:e.endpointSize[r]}}):e._e(),e._v(" "),t===3?n("ellipse",{attrs:{rx:e.endpointSize[r],ry:e.endpointSize[r],cx:e.endpointPos[r][0],cy:e.endpointPos[r][1],"stroke-width":e.element.strokeWidth,fill:"currentColor"}}):e._e(),e._v(" "),t===4?n("rect",{attrs:{width:2*e.endpointSize[r],height:2*e.endpointSize[r],x:-e.endpointSize[r],y:-e.endpointSize[r],transform:e.endpointPos[r],"stroke-width":e.element.strokeWidth,fill:"currentColor"}}):e._e()]})],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.focused,expression:"selected || focused"}],staticClass:"PluginLine-anchor",style:e.fakeStartAnchorStyle}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.focused,expression:"selected || focused"}],staticClass:"PluginLine-anchor",style:e.fakeEndAnchorStyle}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.focused,expression:"selected || focused"}],ref:"startAnchor",staticClass:"PluginLine-anchor PluginLine-anchor--hidden",style:e.startAnchorStyle}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.focused,expression:"selected || focused"}],ref:"endAnchor",staticClass:"PluginLine-anchor PluginLine-anchor--hidden",style:e.endAnchorStyle})])])},i=[],s=n(483),o=n(1),u={props:{type:{type:String,required:!0},pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},currentPage:{type:Number,required:!0,"default":0}},data:function(){return{selected:!1,focused:!1,slot:"normal"}},computed:{_width:function(){return Math.abs(this.element.x1-this.element.x2)},_height:function(){return Math.abs(this.element.y1-this.element.y2)},bolder:function(){return this._width<10?"width":this._height<10?"height":""},svgAttr:function(){var t=[Math.min(this.element.x1,this.element.x2),Math.min(this.element.y2,this.element.y1),Math.max(this._width,1),Math.max(this._height,1)].join(" "),n=Math.max(this.element.styles._width||this._width,1),r=Math.max(this.element.styles._height||this._height,1);return{viewBox:t,width:n,height:r}},endpointSize:function(){var t=this;return[this.element.start,this.element.end].map(function(e){var n,r;switch(e){case 1:r=Math.max(6,2.25*t.element.strokeWidth),n=["M -",r," -",r," L 0 0 L ",r," -",r].join("");break;case 2:r=Math.max(4,1.5*t.element.strokeWidth),n=["0,"+r,r+",-"+r,-r+",-"+r].join(" ");break;case 3:case 4:n=1.5*t.element.strokeWidth}return n})},endpointPos:function(){var t=this,n=~~(Math.atan(this._width/this._height)*180/Math.PI);return this.element.x1<this.element.x2?this.element.y1<this.element.y2&&(n=180-n):this.element.y1<this.element.y2?n=180+n:n=360-n,[this.element.start,this.element.end].map(function(e,r){return e===3?[t.element["x"+(r+1)],t.element["y"+(r+1)]]:["translate(",t.element["x"+(r+1)],",",t.element["y"+(r+1)],") rotate(",r?n+180:n,")"].join("")})},startAnchorStyle:function(){return{top:Object(o.N)(this.element.y1),left:Object(o.N)(this.element.x1)}},endAnchorStyle:function(){return{top:Object(o.N)(this.element.y2),left:Object(o.N)(this.element.x2)}},fakeStartAnchorStyle:function(){return{top:Object(o.N)(this.element.y1<this.element.y2?0:this.element.styles._height),left:Object(o.N)(this.element.x1<this.element.x2?0:this.element.styles._width)}},fakeEndAnchorStyle:function(){return{top:Object(o.N)(this.element.y2<this.element.y1?0:this.element.styles._height),left:Object(o.N)(this.element.x2<this.element.x1?0:this.element.styles._width)}},strokeLinecap:function(){return this.element.lineStyle===2?"round":undefined},strokeDasharray:function(){var t,n=this.element.lineStyle;if(n){var r=this.element.strokeWidth*(2+n);t=(n===2?0:r)+" "+r}return t}}},a=u,f=n(8),l=Object(f.a)(a,r,i,!1,null,null,null),c=t.a=l.exports},455:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("plugin-base",[r("template",{slot:e.slot},[r("div",{staticClass:"PluginIframe--macmenu",style:e.styleRadius},[r("p",{staticClass:"PluginIframe--macmenu--title","class":e.macMenu,style:e.macMenuBgColor}),e._v(" "),r("p",{staticClass:"PluginIframe--macmenu--url",style:e.styleTop["padding-top"]!=="69px"?"display:none":""},[r("img",{attrs:{src:n(484),alt:""}}),e._v(" "),r("span",{staticClass:"url-content"},[r("img",{attrs:{src:n(485),alt:""}}),e._v(" "),r("input",{staticClass:"url-content-text",attrs:{type:"text",readonly:"true"},domProps:{value:this.source}})])]),e._v(" "),r("iframe",{staticClass:"PluginIframe--full",style:e.styleTop,attrs:{allow:"microphone;camera;midi;encrypted-media;",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:"",sandbox:"allow-forms allow-scripts allow-popups allow-same-origin allow-pointer-lock",src:e.src,"data-src":e.dataSrc}})]),e._v(" "),e.source?e._e():r("div",{staticClass:"PluginIframe-placeholder","class":{"PluginIframe--httpsTips":e.httpsTips},staticStyle:{"box-sizing":"border-box"},style:e.styleTop},[e.httpsTips&&e.tipType==="editor"?r("p",{staticClass:"PluginIframe-tip"},[e._v("无法在编辑器中查看非https的网页")]):e._e(),e._v(" "),e.httpsTips&&e.tipType==="guideRedirect"?r("p",{staticClass:"PluginIframe-tip"},[e._v("\n        此内容来源的协议为http，无法在https模式下显示。"),r("br"),e._v("如需观看，请跳转到http模式下。\n        "),r("br"),e._v(" "),r("br"),e._v(" "),r("button",{staticClass:"Button Button--accent",on:{click:e.gotoHttp}},[e._v("跳转")])]):e._e()]),e._v(" "),e.type.match(/preview|present|display/)?e._e():r("div",{staticClass:"PluginIframe-blocker",on:{dblclick:e.dblclick}}),e._v(" "),e.source&&e.blockInteraction?r("div",{directives:[{name:"gesture",rawName:"v-gesture:longtap",value:e.gotoIframe,expression:"gotoIframe",arg:"longtap"}],staticClass:"PluginIframe-blocker PluginIframe-blocker--noselect",on:{click:e.showLongtapHint}}):e._e()])],2)},i=[],s=n(486),o=n(2),u=n(74),a=n(1),f={props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},type:{type:String,required:!0},currentPage:{type:Number,required:!0,"default":0}},data:function(){return{slot:"",blockInteraction:!1,httpsTips:!1,source:""}},computed:{macMenu:function(){var t=this.element.macmenu||"None";return"PluginIframe--macmenu-".concat(t)},macMenuBgColor:function(){return"background-color:".concat(this.element.bgColor)},styleRadius:function(){var t=Object(a.O)(this.element.styles["border-radius"]),n=Object(a.O)(this.element.styles["border-width"]||0),r={"border-radius":Object(a.N)(Math.max(t-n,0))};return r},styleTop:function(){var t={};if(this.element.macmenu==="Grey"||this.element.macmenu==="Color")t["padding-top"]="69px";return t},src:function(){var t=this.type.match(/editing|fragment|order|record/);if(t&&this.currentPage===this.pageIndex||this.element.preload)return this.source},dataSrc:function(){if(this.type.match(/present|preview|display/))return this.source}},watch:{"element.src":function(t){this.initSource(),this.initHttpsTips()}},mounted:function(){window.vm=this,this.blockInteraction=a.t,this.initSource(),this.initHttpsTips()},methods:{initSource:function(){if(!Object(a.H)(this.element.src)){this.source="";return}if(location.protocol==="https:"&&!Object(a.A)(this.element.src)){this.source="";return}this.source=this.element.src},initHttpsTips:function(){if(location.protocol==="http:"||Object(a.A)(this.element.src)||!Object(a.H)(this.element.src)){this.httpsTips=!1;return}location.pathname.match(/^\/editor/)?this.tipType="editor":this.tipType="guideRedirect",this.httpsTips=!0},dblclick:function(){o.a.$emit("substitute-plugin-iframe")},gotoHttp:function(){location.protocol="http"},gotoIframe:function(){location.href=this.source},showLongtapHint:function(){u.a.toast("若想查看详情，可长按跳转到内嵌网页哦",{classNames:["PluginIframe-toast"]})}}},l=f,c=n(8),h=Object(c.a)(l,r,i,!1,null,null,null),p=t.a=h.exports},456:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("plugin-base",[n("div",{attrs:{slot:e.slot},slot:e.slot},[n("table",{staticClass:"PluginTable"},[n("tbody",e._l(e.element.content,function(t,r){return r<e.element.row?n("tr",{key:r,ref:"row-"+r,refInFor:!0,style:e.rowStyle(r)},[e._l(t,function(t,i){return i<e.element.column?[e.element.header&&r===0?n("th",{key:i,style:e.realCellStyle({index:i,rowIndex:r}),domProps:{innerHTML:e._s(t)}}):e._e(),e._v(" "),!e.element.header||r!==0?n("td",{key:i,style:e.realCellStyle({index:i,rowIndex:r}),domProps:{innerHTML:e._s(t)}}):e._e()]:e._e()})],2):e._e()}))]),e._v(" "),e.type==="editing"?n("div",{staticStyle:{position:"absolute",top:"0",left:"0",height:"100%"}},[e._l(e.helper,function(t,r){return[n("div",{key:r,staticClass:"PluginTable-helper",style:t,attrs:{"data-index":r},on:{mousedown:e.helperMouseDown}})]})],2):e._e()])])},i=[],s=n(487),o=n(1),u=n(2),a=0,f=0,l={props:{type:{type:String,required:!0},pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},currentPage:{type:Number,required:!0,"default":0}},computed:{cellStyle:function(){var t={padding:this.element.cellPadding,"border-width":this.element.borderWidth,"border-color":this.element.borderColor};return t},headerColumnStyle:function(){var t={"background-color":this.element.headerColumnColor};return t},minCellWidth:function(){return 40+Object(o.O)(this.element.cellPadding)*2}},data:function(){return{slot:"",helperOn:!1,helperIndex:0,helper:[],selected:!1,oriWidth:0,oriX:0,maxCellBias:0}},methods:{realCellStyle:function(t){var n=t.index,r=t.rowIndex;return r!==a&&n===f?Object.assign({width:this.element.widths[n]},this.cellStyle,this.headerColumnStyle):Object.assign({width:this.element.widths[n]},this.cellStyle)},rowStyle:function(t){var n="";t===a?n=this.element.headerRowColor:t%2===1&&this.element.isInterlaced&&(n=this.element.interlacedColor);var r={"background-color":n};return r},helperMouseDown:function(t){this.selected&&($("body").on("mousemove",this.helperMouseMove),$("body").on("mouseup",this.helperMouseUp),this.helperOn=!0,this.helperIndex=Object(o.O)($(t.target).attr("data-index")),this.oriWidth=Object(o.O)(this.helper[this.helperIndex].left)-(this.helperIndex?Object(o.O)(this.helper[this.helperIndex-1].left):0),this.oriX=t.clientX,this.oriY=t.clientY,this.maxCellBias=Object(o.O)(this.element.styles.width)-Object(o.O)(this.helper[this.helper.length-1].left)-this.minCellWidth,t.stopPropagation(),t.preventDefault())},helperMouseMove:function(t){if(this.helperOn){var n=(t.clientY-this.oriY)*Math.sin(this.element.rotate||0)+(t.clientX-this.oriX)*Math.cos(this.element.rotate||0);if(n>this.maxCellBias)return;var r=this.oriWidth+n;if(r<this.minCellWidth)return;u.a.$emit("config-plugin-table-cell-width",[this.helperIndex],{widths:Object(o.N)(r)},this.elementIndex,this.pageIndex)}},helperMouseUp:function(t){this.helperOn&&($("body").off("mousemove",this.helperMouseMove),$("body").off("mouseup",this.helperMouseUp),this.helperOn=!1)},forceHelperUpdate:function(){var t=this,n=[],r=this.element.widths.slice(0,this.element.column),i=0,s=Object(o.O)(this.element.borderWidth)||0;r.reduce(function(e,r,u){var a=0;Object(o.y)(r)?(a=t.$refs["row-0"][0].children[u].offsetWidth,i+=t.minCellWidth):(a=Math.max(Object(o.O)(r),Object(o.O)(t.element.cellPadding)*2),i+=a);var f=e+a,l={left:Object(o.N)(f)};return s>9&&(l.width=t.element.borderWidth),n.push(l),f},s/2),i+=this.minCellWidth;if(i!==this.element.minWidth){var a={minWidth:i,styles:{}};!this.element.rotate&&i>Object(o.O)(this.element.styles.width)&&(a.styles.width=Object(o.N)(i)),this.element.styles._height!==this.$el.offsetHeight&&(a.styles._height=this.$el.offsetHeight),u.a.$emit("config-plugin-table-minWidth",a,this.elementIndex,this.pageIndex)}this.helper=n}},mounted:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})},beforeDestroy:function(){$("body").off("mousemove",this.helperMouseMove),$("body").off("mouseup",this.helperMouseUp)},watch:{"element.widths":{handler:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})}},"element.borderWidth":{handler:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})}},"element.cellPadding":{handler:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})}},"element.styles.width":{handler:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})}}}},c=l,h=n(8),p=Object(h.a)(c,r,i,!1,null,null,null),d=t.a=p.exports},457:function(e,t,n){"use strict";function a(e,t){return c(e)||l(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]!=null&&o["return"]()}finally{if(i)throw s}}return n}return}function c(e){if(Array.isArray(e))return e}var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("plugin-base",[n("div",{staticClass:"PluginHighlighter","class":{"empty-out":!e.editing},staticStyle:{width:"100%",height:"100%"},attrs:{slot:e.slot},slot:e.slot},[n("div",{staticClass:"edit-guide"},[n("span",{staticClass:"edit-tip"},[e._v("高亮区域")])]),e._v(" "),e.editing?e._e():n("div",{staticClass:"highlight-group",style:{zIndex:e.element.styles["z-index"]}},[n("div",{staticClass:"highlight-item top",style:e.highlightTopStyle}),e._v(" "),n("div",{staticClass:"highlight-item right",style:e.highlightRightStyle}),e._v(" "),n("div",{staticClass:"highlight-item bottom",style:e.highlightBottomStyle}),e._v(" "),n("div",{staticClass:"highlight-item left",style:e.hightlightLeftStyle})])])])},i=[],s=n(488),o=n(2),u=n(176),h={data:function(){return{slot:"",editing:!1,peekTimer:null,port:null,bounds:{upperLeft:[0,0],supperRight:[0,0],width:0,height:0,portWidth:0,portHeight:0,activeHeight:0,activeWidht:0}}},props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0},type:{type:String,required:!0,"default":""},currentPage:{type:Number,required:!0,"default":0}},methods:{calcCover:function(){var t=this.element.styles,n=["left","top","width","height"].map(function(e){return parseFloat(t[e])}),r=a(n,4),i=r[0],s=r[1],o=r[2],u=r[3];this.bounds.upperLeft=[i,s],this.bounds.supperRight=[i+o,s+u],this.bounds.width=o,this.bounds.height=u,this.bounds.portWidth=this.port.offsetWidth,this.bounds.portHeight=this.port.offsetHeight},selectMode:function(t){if(this.currentPage!==this.pageIndex)return;t=t||this.type;switch(t){case"editing":case"fragment":this.editing=!0;break;default:this.calcCover(),this.stopPeeking(),this.editing=!1}},withBasic:function(t){return Object.assign(t,{backgroundColor:this.element.color,opacity:parseInt(this.element.opacity)/100})},peeking:function(){var t=this;this.peekTimer&&Object(u.clearTimeout)(this.peekTimer),this.calcCover(),this.editing=!1,this.peekTimer=Object(u.setTimeout)(function(){return t.stopPeeking()},1e3)},stopPeeking:function(){this.editing=!0,Object(u.clearTimeout)(this.peekTimer)}},mounted:function(){this.port=document.querySelector("div.reveal"),this.selectMode(this.type)},watch:{"element.color":function(){this.peeking()},"element.opacity":function(){this.peeking()},type:function(t){this.selectMode(t)},currentPage:function(){this.selectMode()}},computed:{highlightTopStyle:function(){return this.withBasic({width:this.bounds.width+"px",left:this.bounds.upperLeft[0]+"px",top:-this.bounds.portHeight+"px",height:this.bounds.portHeight+this.bounds.upperLeft[1]+"px"})},highlightRightStyle:function(){var t=this.bounds.upperLeft[0]+this.bounds.width;return this.withBasic({left:t+"px",top:-this.bounds.portHeight+"px",width:this.bounds.portWidth+"px",bottom:-this.bounds.portHeight+"px"})},highlightBottomStyle:function(){var t=this.bounds.supperRight[1];return this.withBasic({top:t+"px",left:this.bounds.upperLeft[0]+"px",width:this.bounds.width+"px",height:this.bounds.portHeight+"px"})},hightlightLeftStyle:function(){return this.withBasic({left:-this.bounds.portWidth+"px",top:-this.bounds.portHeight+"px",bottom:-this.bounds.portHeight+"px",width:this.bounds.portWidth+this.bounds.upperLeft[0]+"px"})}}},p=h,d=n(8),v=Object(d.a)(p,r,i,!1,null,null,null),m=t.a=v.exports},458:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("plugin-base",{staticClass:"PluginMath"},[n("div",{attrs:{slot:e.slot},slot:e.slot},[n("div",{ref:"render",domProps:{innerHTML:e._s(e.html)},on:{dblclick:e.openEditor}}),e._v(" "),n("div",{ref:"reader",staticClass:"PluginMath-placeholder"},[e._v("\n      "+e._s(e.element.exp)+"\n    ")])])])},i=[],s=n(489),o=n(420),u=n(465),a=n(466),f=n(2),l={props:{type:{type:String,required:!0},pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},currentPage:{type:Number,required:!0,"default":0}},data:function(){return{slot:"",instant:null,html:""}},methods:{renderDisplay:function(){this.html=o.a.latexToMarkup(this.element.exp,"textstyle")},openEditor:function(){f.a.$emit("config-open-math-editor")}},mounted:function(){this.renderDisplay()},watch:{"element.exp":function(){this.renderDisplay()}}},c=l,h=n(8),p=Object(h.a)(c,r,i,!1,null,null,null),d=t.a=p.exports},459:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("plugin-base",{staticClass:"PluginTableData"},[n("template",{slot:e.slot},[n("div",{staticStyle:{height:"100%"},on:{dblclick:e.openEditor}},[e.element.usableData?n("e-charts",{ref:"ec",attrs:{options:e.chartOptions,autoresize:!0,"init-options":{width:"auto",height:"auto"}}}):e._e(),e._v(" "),e.element.usableData?e._e():n("div",{staticClass:"PluginTableData-holder"},[n("i",{staticClass:"icon-plugin-tabledata"})])],1)])],2)},i=[],s=n(490),o=n(2),u=n(427),a={components:{ECharts:u.a},props:{type:{type:String,required:!0},pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},currentPage:{type:Number,required:!0,"default":0}},data:function(){return{slot:"",chartOptions:{},resizerTimer:null}},methods:{openEditor:function(){o.a.$emit("config-open-td-editor")},loadChart:function(){this.element.usableData&&(this.chartOptions=JSON.parse(this.element.usableData))},resize:function(){this.$refs.ec.resize()}},watch:{"element.usableData":function(t){this.loadChart()}},mounted:function(){this.loadChart()}},f=a,l=n(8),c=Object(l.a)(f,r,i,!1,null,null,null),h=t.a=c.exports},460:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("plugin-base",[n("pre",{staticClass:"PluginCode","class":e.classes,style:e.styles,attrs:{slot:e.slot},on:{dblclick:e.dblclick},slot:e.slot},[n("code",{ref:"code",staticClass:"edtor-code hljs","class":e.language,domProps:{textContent:e._s(e.element.content)}})])])},i=[],s=n(2),o=n(1),u=n(482),a={props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},type:{type:String,required:!0},currentPage:{type:Number,required:!0,"default":0}},data:function(){return{slot:"",oldElement:{}}},computed:{classes:function p(){var p={"PluginCode-placeholder":!this.element.content};return p[this.element.language]=!0,p["PluginCode--"+this.element.theme]=!0,p},language:function(){var t=this.element.language==="auto"?undefined:this.element.language,n=this.element.iframe==="None"?"":"code".concat(this.element.iframe),r=this.element.wordBreak?"wordBreak":"";return"".concat(t," ").concat(n," ").concat(r," PluginCode--Fira-Code")},styles:function(){var t=Object(o.O)(this.element.styles["border-radius"]),n=Object(o.O)(this.element.styles["border-width"]||0);return this.element.styles["border-radius"]||(t=7),{"border-radius":Object(o.N)(Math.max(t-n,0))}}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t._highlight=function(){if(t.currentPage!==t.pageIndex||!t.isNeedReHighLight())return;t.oldElement=Object.assign({},t.element);var e=t.highlightCode(t.element.language,t.element.content);t.$refs.code.innerHTML=t.element.lineNumber?hljs.lineNumbersValue(e.value):e.value},t._highlight()})},watch:{element:{handler:function(){this.$nextTick(this._highlight)},deep:!0},type:function(){this.$nextTick(this._highlight)},currentPage:function(){this.$nextTick(this._highlight)}},methods:{highlightCode:function(t,n){return t.toLocaleLowerCase()==="auto"?hljs.highlightAuto(n):hljs.highlight(t,n,!0)},isNeedReHighLight:function(){var t=this.oldElement.content!==this.element.content,n=this.oldElement.language!==this.element.language,r=this.oldElement.lineNumber!==this.element.lineNumber;return t||n||r},dblclick:function(){this.type==="editing"&&s.a.$emit("config-plugin-code-content")}}},f=a,l=n(8),c=Object(l.a)(f,r,i,!1,null,null,null),h=t.a=c.exports},461:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"PluginGroup Plugin","class":e.classes,style:e.styles})},i=[],s=n(478),o=n(2),u={props:{type:{type:String,required:!0},pageIndex:{type:Number,required:!0},group:{type:Object,required:!0}},data:function(){return{animationPreviewing:!1}},computed:{related:function(){if(!this.$store)return!1;var t=this.$store.state.editor;return t.pageIndex===this.pageIndex&&t.groupIndex===this.group.id&&t.elementIndex!==-1},chainRelated:function(){var t=this;if(!this.$store)return!1;var n=this.$store.state.editor.chain;return this.$store.state.editor.pageIndex===this.pageIndex&&n.length>1&&n.findIndex(function(e){return t.group.elements.indexOf(e)>-1})>-1},selected:function(){if(!this.$store)return!1;var t=this.$store.state.editor;return t.pageIndex===this.pageIndex&&t.groupIndex===this.group.id},focused:function(){var t=this;if(!this.$store)return!1;var n=this.$store.state.editor.chain;return this.$store.state.editor.pageIndex===this.pageIndex&&n.length>1&&n.findIndex(function(e){return e===t.group.id})>-1},locked:function(){return this.group.locked},classes:function(){return{"group-box-selected":(this.selected||this.focused)&&!this.related&&!this.chainRelated,"group-box-related":this.related||this.chainRelated,"elem-box-locked":this.locked,"elem-box-selected":this.selected||this.focused,"fragment--disable":this.type==="fragment"&&this.group.animations}},styles:function(){var t=this.type==="editing"?{"z-index":this.group.styles["z-index"]-this.group.elements.length}:{};return this.group.invisible&&(t.display="none"),this.animationPreviewing&&(t.border="none"),Object.assign({},this.group.styles,t)},element:function(){return{styles:this.styles}}},created:function(){o.a.$on("preview-plugin-animation",this._previewAnimation)},beforeDestroy:function(){o.a.$off("preview-plugin-animation",this._previewAnimation)},methods:{_resetAnimation:function(){this.animationPreviewing=!1,o.a.$off("report-click-position",this._resetAnimation),window.removeEventListener("keydown",this._resetAnimation)},_previewAnimation:function(t){var n=this,r=t.pageIndex,i=t.groupIndex;if(this.pageIndex===r&&this.group.id===i){this._resetAnimation(),o.a.$on("report-click-position",this._resetAnimation),window.addEventListener("keydown",this._resetAnimation),this.animationPreviewing=!0;var s=(Number.parseFloat(this.group.animations[0].duration)+Number.parseFloat(this.group.animations[0].delay))*1e3+100;setTimeout(function(){n._resetAnimation()},s)}}}},a=u,f=n(8),l=Object(f.a)(a,r,i,!1,null,null,null),c=t.a=l.exports},465:function(e,t,n){},466:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},477:function(e,t,n){},478:function(e,t,n){},479:function(e,t,n){},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){},483:function(e,t,n){},484:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAAAkCAYAAABhc6+LAAAKxmlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUk9kSgO//pzcIBEKREnqTTqhSQg+gIB1EJSSBhBJjQlCxI4srsBZURLCsyIKIgmsBZC2IBQuLYMO+QRYBdV0siIrK+4FH2H3vvPfOm5w598v8c2fm/udOzgQACp4jFmfCVACyRNmSyCBfRnxCIgPXB3AAD4jAETA5XKmYFRERBhCZXv8uH+4BaGK9bT0R69+f/1dR4fGlXACgCIRTeFJuFsInEX3NFUuyAUBVIXajZdniCb6KsJoEKRDhxxOcNsXDE5wyyWj0pE90pB/CmgDgyRyOJA0AsjFiZ+Rw05A4ZH+E7UQ8oQhh5Dvw4go4PISRvGB2VtaSCZYjbJ7ylzhpf4uZoojJ4aQpeOosk4L3F0rFmZwV/+fr+N+SlSmbzmGKKFkgCY5EVjryzu5nLAlVsChlXvg0C3mT/pMskAXHTDNX6pc4zTyOf6hib+a8sGlOFQayFXGy2dHTzJcGRE2zZEmkIleqxI81zRzJTF5ZRozCLuCzFfFzBdFx05wjjJ03zdKMqNAZHz+FXSKLVNTPFwX5zuQNVJw9S/qX8wrZir3Zguhgxdk5M/XzRayZmNJ4RW08vn/AjE+Mwl+c7avIJc6MUPjzM4MUdmlOlGJvNnIhZ/ZGKN5hOickYpqBPwgAYciHASKAA9J59sAJINVm85dP3FHgt0S8QiJME2QzWEiX8RlsEddmNsPBzt4NgImenboS7+5P9iJEx8/Y+CcAcLJDjNQZm4ADQAsGAGrRjM28DWnH6wBcKOHKJDlTtol2Ahjkl0AZqAEtoAeMgDmwRupzBh7AB6k4BISDaJAAFgEuEIAsIAHLwCqwHhSAIrAV7ATlYD84CA6Bo+A4aAJnwAVwBdwAXeAueATkoB+8BMPgAxiDIAgHUSAapAXpQyaQFeQAuUJeUAAUBkVCCVAylAaJIBm0CtoAFUElUDl0AKqFfoZOQxega1A39ADqhYagt9BnGAWTYTVYFzaFbWFXmAWHwtHwQjgNXgrnwvnwZrgMroSPwI3wBfgGfBeWwy/hERRAkVB0lAHKGuWK8kOFoxJRqSgJag2qEFWKqkTVo1pQ7ajbKDnqFeoTGoumoRloa7QHOhgdg+ail6LXoIvR5ehD6Eb0JfRtdC96GP0NQ8HoYKww7hg2Jh6ThlmGKcCUYqoxpzCXMXcx/ZgPWCyWjjXDumCDsQnYdOxKbDF2L7YB24rtxvZhR3A4nBbOCueJC8dxcNm4Atxu3BHcedwtXD/uI56E18c74APxiXgRPg9fij+MP4e/hR/AjxGoBBOCOyGcwCOsIGwhVBFaCDcJ/YQxogrRjOhJjCamE9cTy4j1xMvEx8R3JBLJkORGmk8SktaRykjHSFdJvaRPZFWyJdmPnESWkTeTa8it5AfkdxQKxZTiQ0mkZFM2U2opFylPKR+VaEo2SmwlntJapQqlRqVbSq+VCcomyizlRcq5yqXKJ5RvKr+iEqimVD8qh7qGWkE9Te2hjqjQVOxVwlWyVIpVDqtcUxlUxamaqgao8lTzVQ+qXlTto6FoRjQ/Gpe2gVZFu0zrV8Oqmamx1dLVitSOqnWqDaurqjupx6ovV69QP6sup6PopnQ2PZO+hX6cfo/+WUNXg6XB19ikUa9xS2NUc5amjyZfs1CzQfOu5mcthlaAVobWNq0mrSfaaG1L7fnay7T3aV/WfjVLbZbHLO6swlnHZz3UgXUsdSJ1Vuoc1OnQGdHV0w3SFevu1r2o+0qPruejl663Q++c3pA+Td9LX6i/Q/+8/guGOoPFyGSUMS4xhg10DIINZAYHDDoNxgzNDGMM8wwbDJ8YEY1cjVKNdhi1GQ0b6xvPNV5lXGf80IRg4moiMNll0m4yampmGme60bTJdNBM04xtlmtWZ/bYnGLubb7UvNL8jgXWwtUiw2KvRZclbMm0FFhWWN60gq2crYRWe626Z2Nmu80Wza6c3WNNtmZZ51jXWffa0G3CbPJsmmxe2xrbJtpus223/WbHtMu0q7J7ZK9qH2KfZ99i/9bB0oHrUOFwx5HiGOi41rHZ8Y2TlRPfaZ/TfSaNOZe5kdnG/Ors4ixxrncecjF2SXbZ49LjquYa4VrsetUN4+brttbtjNsnd2f3bPfj7n96WHtkeBz2GJxjNoc/p2pOn6ehJ8fzgKfci+GV7PWjl9zbwJvjXen9zMfIh+dT7TPAsmCls46wXvva+Up8T/mO+rn7rfZr9Uf5B/kX+ncGqAbEBJQHPA00DEwLrAscDmIGrQxqDcYEhwZvC+5h67K57Fr2cIhLyOqQS6Hk0KjQ8tBnYZZhkrCWufDckLnb5z6eZzJPNK8pHISzw7eHP4kwi1ga8ct87PyI+RXzn0faR66KbI+iRS2OOhz1Ido3ekv0oxjzGFlMW6xybFJsbexonH9cSZw83jZ+dfyNBO0EYUJzIi4xNrE6cWRBwIKdC/qTmEkFSfcWmi1cvvDaIu1FmYvOLlZezFl8IhmTHJd8OPkLJ5xTyRlJYafsSRnm+nF3cV/yfHg7eEN8T34JfyDVM7UkdTDNM2172pDAW1AqeCX0E5YL36QHp+9PH80Iz6jJGM+My2zIwmclZ50WqYoyRJeW6C1ZvqRbbCUuEMuXui/duXRYEiqplkLShdLmbDVkOOqQmcu+k/XmeOVU5HxcFrvsxHKV5aLlHSssV2xaMZAbmPvTSvRK7sq2VQar1q/qXc1afWANtCZlTdtao7X5a/vXBa07tJ64PmP9r3l2eSV57zfEbWjJ181fl9/3XdB3dQVKBZKCno0eG/d/j/5e+H3nJsdNuzd9K+QVXi+yKyot+lLMLb7+g/0PZT+Mb07d3LnFecu+rditoq33tnlvO1SiUpJb0rd97vbGHYwdhTve71y881qpU+n+XcRdsl3ysrCy5t3Gu7fu/lIuKL9b4VvRsEdnz6Y9o3t5e2/t89lXv193f9H+zz8Kf7x/IOhAY6VpZelB7MGcg8+rYqvaf3L9qbZau7qo+muNqEZ+KPLQpVqX2trDOoe31MF1srqhI0lHuo76H22ut64/0EBvKDoGjsmOvfg5+ed7x0OPt51wPVF/0uTknlO0U4WNUOOKxuEmQZO8OaG5+3TI6bYWj5ZTv9j8UnPG4EzFWfWzW84Rz+WfGz+fe36kVdz66kLahb62xW2PLsZfvHNp/qXOy6GXr14JvHKxndV+/qrn1TPX3K+dvu56vemG843GDmbHqV+Zv57qdO5svOlys7nLraule073uVvety7c9r995Q77zo278+5234u5d78nqUd+n3d/8EHmgzcPcx6OPVr3GPO48An1SelTnaeVv1n81iB3lp/t9e/teBb17FEft+/l79Lfv/TnP6c8Lx3QH6gddBg8MxQ41PViwYv+l+KXY68K/lD5Y89r89cn//T5s2M4frj/jeTN+Nvid1rvat47vW8biRh5+iHrw9ho4Uetj4c+uX5q/xz3eWBs2Rfcl7KvFl9bvoV+ezyeNT4u5kg4k6MAClE4NRWAtzUAUBIAoHUBQFwwNVNPCjT1P2CSwH/iqbl7UpwBqG4FIHYdAJE+AOxF1AxhKrJGIBrtA2BHR4X+U6Spjg5TsUhNyGhSOj7+DpkfcRYAfO0ZHx9rGh//Wo0U+xCA1g9Ts/yEUI8A4FPOZDKjbl7ZCP5V/gFv+hESOWl7eQAAA25JREFUaAXtWTtoU1EY/qPJkJJYwY62TrbZtLaxrXardqrSpSgKvsjiKgiKiC9EQXB1MFjrUHwsRekSW6dqldo8fECrm3VMXRKaJaDnO3olDffmcfKf5F44PyS555H/9eV/nBPfb0FkyPUe2OJ6DY2C0gMGKI/8EAxQBiiPeMAjapqIMkB5xAMeUdNElAHKIx7wiJomogxQHvGAR9T0c+q5sVGgu/fuS5Y3r13hZF0zr8UPS+Tz+ah/317y+1nNc9QBdifm3lAylaYfaz/lvq7OnRSJdNP4kTFqawvKufijKYqdO+3Ip9ICmyUWSFC0UyjZSsrlcvQxmW4KWAtvF2n62QuC/aUEP+CF9RPHJmhl9RstvHuvDJSP41K2HKTLFy/8/xWVKt+M52KxSEvLKcrn8xQOh7WCBRDik0+kWcMHBmn08AghkkAAKfF6XoIjJ/69PY4/KB3W/NxwM+EmkGA10l20r5dCoRBZkQXwuAl2I5JAsbOnZKRYIGEOz0hzkZ7dGDZMDQHlNpAsbzQDrMTcvEx3iKThg0OW6E2fqEkrq983zakOlIFyK0iWI3SDtZzKSFFId3YEkFCTuEi5Rl29cZvWRB6uh5AOuLpBdHeoQ/UQatbg/v56vuK490zsvFxTrTmOjB0WlCPKgV/F6Vb/lezlP7OV23N0dnfEmQlRhUi51OROb2ggWvFHgUU0EWjT0VSguUCTwUU4gsB2dHelTYQdf5SJ+OSU3Dd+dMxuS9U55YjCIQ5gQWEoi4MuFHIL2YGEusVFfb17JCu04NVo+ulzcRjOUDa7Xm2r47oyUODoVrB0gwTbRw+NUDAYlA0DzlNOhDWrqVCNJvDeel2Qk5Ba5gOBgCjQUfr05atMBZ/F54AYY74V1AyQYBfs296+jZLpjHxl139RR8cOahdzINxEzLyapZmXs3KMsxaulFRJuesrF4i0V1qzuLq7cjnVxlY3aNUkznRnJxsp7aFoxQsF+7SPqDt5fMLxrGXH026ODSgwt8DC860WXspCPhoH3SBBDgh24wCMsxUaDICzq0tcyvZ0yxRpXcr+3a32zgqUmgrmW7V4oKFmohYBZg+PBwxQPH7UzsUApd3FPAIMUDx+1M7FAKXdxTwCDFA8ftTOxQCl3cU8AgxQPH7UzsUApd3FPAIMUDx+1M7lD9/5gOYXxiYMAAAAAElFTkSuQmCC"},485:function(e,t){e.exports="data:image/png;base64,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"},486:function(e,t,n){},487:function(e,t,n){},488:function(e,t,n){},489:function(e,t,n){},490:function(e,t,n){},493:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-dialog",{ref:"dialog",staticClass:"Dialog CropDialog",attrs:{"mask-close":!1}},[n("div",{staticClass:"Dialog-inner CropDialog-inner","class":{"CropDialog-inner--noPreview":!this.cropHeight||!this.cropWidth}},[n("h3",[e._v("请选取图片区域")]),e._v(" "),n("div",{staticClass:"CropImage"},[n("img",{ref:"cropImageHolder",staticClass:"CropImage-image",style:{width:this.cropImage.preWidth+"px",height:this.cropImage.preHeight+"px"},attrs:{alt:"",src:e.cropImage.src}}),e._v(" "),this.cropHeight&&this.cropWidth?n("div",{staticClass:"CropImage-preview"},[n("div",{staticClass:"CropImage-preview--cube",style:{height:100/(this.cropWidth/this.cropHeight)+"px"}},[n("img",{attrs:{alt:"",src:e.cropImage.src}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.cropWidth/e.cropHeight===1,expression:"cropWidth/cropHeight  === 1"}],staticClass:"CropImage-preview--round"},[n("img",{attrs:{alt:"",src:e.cropImage.src}})])]):e._e()]),e._v(" "),n("div",{staticClass:"CropCtrl"},[n("div",{staticClass:"CropCtrl-btn"},[n("button",{staticClass:"Button Button--accent CropCtrl-btn--confirm","class":{"is-success":e.uploadSuccess,"is-loading":e.isLoading},attrs:{type:"button"},on:{click:e.confirm}},[e.uploadSuccess?n("span",[n("i",{staticClass:"icon-ok-2"})]):e._e(),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.uploadSuccess&&!e.isLoading,expression:"!uploadSuccess && !isLoading"}]},[e._v("确认")])]),e._v(" "),n("button",{staticClass:"Button Button--secondary Button--outline CropCtrl-btn--cancel",attrs:{type:"button"},on:{click:e.cancel}},[e._v("取消")])]),e._v(" "),n("div",{staticClass:"CropCtrl-loader"},[n("div",{staticClass:"CropLoader","class":{"is-hidden":!e.isLoading}},[n("div",{staticClass:"CropLoader-dot"}),e._v(" "),n("div",{staticClass:"CropLoader-dot"}),e._v(" "),n("div",{staticClass:"CropLoader-dot"})]),e._v(" "),n("div",{staticClass:"CropLoader-hint","class":{"is-hidden":e.isLoading}},[e.uploadFail?n("span",{staticClass:"is-fail"},[n("i",{staticClass:"icon-attention-circled"}),e._v("上传失败，请重试！")]):e._e()])])])])])},i=[],s=n(74),o=n(78),u=n(524),a=n(1);a.s&&n(562);var f={props:{cropWidth:{type:Number},cropHeight:{type:Number},cropType:{"default":"png",type:String}},data:function(){return{callback:function(){},cropImage:{src:undefined,sourceFile:null,originHeight:undefined,originWidth:undefined,preWidth:undefined,preHeight:undefined,boundx:undefined,boundy:undefined,result:undefined,resultSrc:undefined},jcroper:undefined,isLoading:!1,uploadSuccess:!1,uploadFail:!1,unwatchDialogClose:null,fromEditor:!1}},methods:{showImageCroper:function(t){this.cropImage.sourceFile=t.src?t.src:t.file,this.fromEditor=!!t.src,this.callback=t.callback,this.crop().then(this.callback),this.$dialgEl=this.$refs.dialog.$el},crop:function(){var t=this;return new Promise(function(e,n){(t.fromEditor||t.validateFile(t.cropImage.sourceFile))&&t.getFileInfo(t.cropImage.sourceFile).then(function(){t.openCropDialog(),t.unwatchGetResultSrc=t.$watch(function(){return t.cropImage.resultSrc},function(n){setTimeout(function(){t.cancel(),e(n)},300)})})})},cancel:function(){this.cropImage.resultSrc=undefined,this.unwatchGetResultSrc(),this.jcroper.destroy(),this.$refs.dialog?this.$refs.dialog.close():this.$dialgEl&&this.$dialgEl.remove()},confirm:function(){var t=this;if(!this.$refs.dialog){this.$dialgEl&&this.$dialgEl.remove();return}var n=this.jcroper.tellSelect(),r=Math.min(this.cropImage.boundx,this.cropImage.boundy),i=this.cropWidth&&this.cropHeight?this.cropWidth/this.cropHeight:undefined,s=this.cropWidth?r*i:this.cropImage.boundx,o=this.cropHeight?r/i:this.cropImage.boundy;n.x=n.w===0||n.h===0?0:n.x,n.y=n.w===0||n.h===0?0:n.y,n.w=n.w===0?s:n.w,n.h=n.h===0?o:n.h,this.cutImage(n.x,n.y,n.w,n.h,this.cropImage.src).then(function(e){var n=t.cropImage.sourceFile.name?t.cropImage.sourceFile.name:"image.png";t.cropImage.result=new FormData,t.cropImage.result.append("file",e,n),t.uploadImage().then(function(e){t.cropImage.resultSrc=e})})},cutImage:function(t,n,r,i,s){var o=this;return new Promise(function(e){var u=o.cropWidth?o.cropWidth:r,f=o.cropHeight?o.cropHeight:i,l=$('<canvas width="'+u+'" height="'+f+'"></canvas>')[0],c=l.getContext("2d");c.fillStyle="rgba(255, 0, 0, 0)",c.fillRect(0,0,u,f);var h=new Image;h.crossOrigin="Anonymous",h.onload=function(){c.drawImage(h,t,n,r,i,0,0,u,f);var s=l.toDataURL("image/".concat(o.cropType));e(Object(a.d)(s,"image/".concat(o.cropType)))},h.src=s})},getFileInfo:function(t){var n=this;return new Promise(function(e){var r=new FileReader,i=new Image;n.fromEditor?(i.src=t,i.onload=function(){n.cropImage.originHeight=i.height,n.cropImage.originWidth=i.width,n.cropImage.src=t,e()}):(r.readAsDataURL(t),r.onload=function(r){var s=r.target.result;i.src=s,i.onload=function(){n.cropImage.originHeight=i.height,n.cropImage.originWidth=i.width,n.cropImage.src=window.URL.createObjectURL(t),e()}})})},getProperImageSize:function(t,n){var r=400;n>r&&(t=r*t/n,n=r),t>r&&(n=r*n/t,t=r),this.cropImage.preWidth=t,this.cropImage.preHeight=n},openCropDialog:function(){var t=this,n=this;this.resetUploadState(),this.getProperImageSize(this.cropImage.originWidth,this.cropImage.originHeight),this.$nextTick(function(){$(t.$refs.cropImageHolder).Jcrop({aspectRatio:t.cropHeight&&t.cropWidth?n.cropWidth/n.cropHeight:undefined,bgOpacity:.5,bgColor:"white",bgFade:!0,trueSize:[n.cropImage.originWidth,n.cropImage.originHeight],onChange:t.cropHeight&&t.cropWidth?n.updatePreview:null,onSelect:t.cropHeight&&t.cropWidth?n.updatePreview:null},function(){var e=this.getBounds();n.cropImage.boundx=e[0],n.cropImage.boundy=e[1];var t=Math.min(e[0],e[1]);if(n.cropHeight&&n.cropWidth){var r=n.cropWidth/n.cropHeight;this.setSelect([0,0,t/r,t*r])}n.jcroper=this}),t.$refs.dialog.open()})},resetUploadState:function(){this.uploadSuccess=!1,this.uploadFail=!1},updatePreview:function(t){if(parseInt(t.w)>0){var n=100/t.w,r=100/(this.cropWidth/this.cropHeight)/t.h;$(".CropImage-preview img").css({width:n*this.cropImage.boundx+"px",height:r*this.cropImage.boundy+"px",marginLeft:"-"+n*t.x+"px",marginTop:"-"+r*t.y+"px"})}},uploadImage:function(){var t=this;return new Promise(function(e,n){t.isLoading=!0,t.resetUploadState(),o.c.upload(t.cropImage.result).then(function(n){t.isLoading=!1,t.uploadSuccess=!0,e(n.image_url)},function(e){t.isLoading=!1,t.uploadFail=!0})})},validateFile:function(t){if(!t)return;if(t.type.match(/(?!.*jpeg|.*jpg|.*png|.*webp)^.*$/)){s.a.alert("只接受jpg/jpeg/png/webp格式的图片，请重新上传");return}if(t.size>2097152){s.a.alert("不要上传超过2m的图片");return}return!0}}},l=f,c=n(564),h=n(8),p=Object(h.a)(l,r,i,!1,null,null,null),d=t.a=p.exports},515:function(e,t,n){},518:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-dialog",{ref:"dialog"},[n("div",{staticClass:"ResourceShare"},[n("div",{staticClass:"ResourceShare-header"},[n("h3",[e._v("分享"),n("span",[e._v("“幻灯片”")])]),e._v(" "),n("button",{staticClass:"Button Button--secondary",on:{click:e.close}},[e._v("关闭")])]),e._v(" "),n("div",{staticClass:"ResourceShare-body"},[n("div",{staticClass:"ResourceShare-optionTabs"},[e.isPublic?n("div",{"class":{"is-selected":e.tab==="link"},on:{click:function(t){e.toggleTab("link")}}},[e._v("分享链接")]):e._e(),e._v(" "),e.isPublic?n("div",{"class":{"is-selected":e.tab==="iframe"},on:{click:function(t){e.toggleTab("iframe")}}},[e._v("嵌入到网页")]):e._e()]),e._v(" "),n("div",{staticClass:"ResourceShare-optionContent"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.tab==="link",expression:"tab === 'link'"}],staticClass:"Link"},[n("h4",[e._v("链接地址")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.shareLink,expression:"shareLink"}],ref:"linkContent",attrs:{id:"linkContent",type:"text",readonly:"readonly"},domProps:{value:e.shareLink},on:{click:e.selectText,input:function(t){if(t.target.composing)return;e.shareLink=t.target.value}}}),e._v(" "),e.isPublic?e._e():n("h4",[e._v("提取密码")]),e._v(" "),e.isPublic?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.shareCode,expression:"shareCode"}],attrs:{type:"text",readonly:"readonly"},domProps:{value:e.shareCode},on:{click:e.selectText,input:function(t){if(t.target.composing)return;e.shareCode=t.target.value}}}),e._v(" "),n("button",{staticClass:"Button Button--secondary copyBtn Link-copyBtn","class":{isCopied:e.isCopied},attrs:{"data-clipboard-action":"copy","data-clipboard-text":e.shareContent}},[e._v(e._s(e.copyBtnText))])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.tab==="iframe",expression:"tab === 'iframe'"}],staticClass:"Iframe"},[n("div",{staticClass:"Iframe-option"},[n("h4",[e._v("宽度")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.iframeConfig.width,expression:"iframeConfig.width"}],attrs:{type:"text",name:"ctrl-width"},domProps:{value:e.iframeConfig.width},on:{input:function(t){if(t.target.composing)return;e.$set(e.iframeConfig,"width",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"Iframe-option"},[n("h4",[e._v("高度")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.iframeConfig.height,expression:"iframeConfig.height"}],attrs:{type:"text",name:"ctrl-width"},domProps:{value:e.iframeConfig.height},on:{input:function(t){if(t.target.composing)return;e.$set(e.iframeConfig,"height",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"Iframe-option"},[n("h4",[e._v("底部样式")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.iframeConfig.bottomStyle,expression:"iframeConfig.bottomStyle"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.iframeConfig,"bottomStyle",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"light"}},[e._v("浅色")]),e._v(" "),n("option",{attrs:{value:"dark"}},[e._v("深色")])])]),e._v(" "),n("div",{staticClass:"Iframe-link"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.shareIframe,expression:"shareIframe"}],ref:"iframeContent",staticClass:"ResourceShare-optionPages-iframeLink-textarea",attrs:{id:"iframeContent",readonly:"readonly"},domProps:{value:e.shareIframe},on:{click:e.selectText,input:function(t){if(t.target.composing)return;e.shareIframe=t.target.value}}}),e._v(" "),n("button",{staticClass:"Button Button--secondary copyBtn","class":{isCopied:e.isCopied},attrs:{"data-clipboard-action":"copy","data-clipboard-target":"#iframeContent"}},[e._v(e._s(e.copyBtnText))])])])])])])])},i=[],s=n(2),o=n(433),u=n(384),a={serverCacheKey:function(){return"resource-share"},data:function(){return{locationOrigin:"",slide_id:undefined,tab:"link",clipBoard:null,iframeConfig:{width:576,height:420,bottomStyle:"dark"},shareCode:undefined,isCopied:!1,isPublic:undefined}},computed:{shareLink:function(){return"".concat(this.locationOrigin,"/d/").concat(this.slide_id)},shareIframe:function(){return'<iframe src="'.concat(this.locationOrigin,"/embed/").concat(this.slide_id,"?style=").concat(this.iframeConfig.bottomStyle,'" width="').concat(this.iframeConfig.width,'" height="').concat(this.iframeConfig.height,'" scrolling="no" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')},shareContent:function(){return this.isPublic?this.shareLink:"链接地址：".concat(this.shareLink," 提取密码：").concat(this.shareCode)},copyBtnText:function(){return this.isCopied?"已复制":"复制"}},created:function(){s.a.$on("open-resource-share",this.open),s.a.$on("close-resource-share",this.close)},mounted:function(){this.locationOrigin=window.location.origin;var t=n(641);this.clipBoard=new t(".copyBtn")},beforeDestroy:function(){s.a.$off("open-resource-share",this.open),s.a.$off("close-resource-share",this.close)},methods:{close:function(){this.$refs.dialog.close(),this.clipBoard.off("success",this.copySuccess)},open:function(t){var n=this,r=parseInt(t.slide_permission,10);this.slide_id=t.slide_id,this.init(),this.clipBoard.on("success",this.copySuccess),this.isPublic=u.a.PUBLIC.includes(r),r===u.a.NEED_CODE&&this.getShareCode(this.slide_id),this.$nextTick(function(){n.$refs.dialog.open()})},selectText:function(t){t.target.select()},toggleTab:function(t){this.tab!==t&&(this.tab=t,this.isCopied=!1)},copySuccess:function(){this.isCopied=!0},getShareCode:function(t){var n=this;o.a.getcode(t).then(function(e){n.shareCode=e})},init:function(){this.isCopied=!1,this.tab="link",this.shareCode=""}}},f=a,l=n(595),c=n(8),h=Object(c.a)(f,r,i,!1,null,null,null),p=t.a=h.exports},519:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"InfoCard","class":e.InfoCardDisableClick,on:{click:e.jumpToDisplay}},[e.tagContent?n("div",{staticClass:"InfoCard-tag","class":[e.tagBgColor]},[n("span",{staticClass:"InfoCard-tagText"},[e._v(e._s(e.tagContent))])]):e._e(),e._v(" "),e._t("choose"),e._v(" "),n("img",{staticClass:"InfoCard-pic",attrs:{src:e.slide.slide_image_clip||e.slide.slide_image||"https://p0.ssl.qhimg.com/t01c23faec393c18c16.png",alt:""}}),e._v(" "),n("div",{staticClass:"InfoCard-info"},[n("h3",{staticClass:"InfoCard-title",attrs:{title:e.slide.slide_title}},[e._v(e._s(e.slide.slide_title))]),e._v(" "),e.type!=="template"?n("div",[e.slide.user_avatar?n("span",{staticClass:"InfoCard-author"},[n("img",{staticClass:"InfoCard-authorAvatar",attrs:{src:e.slide.user_avatar,alt:""}}),e._v(" "),n("a",{staticClass:"InfoCard-authorLink",on:{click:e.jumpToLecturer}},[e._v(e._s(e.slide.user_name))])]):e._e(),e._v(" "),n("span",{staticClass:"InfoCard-detail",attrs:{title:"最近一次更新时间"}},[n("i",{staticClass:"icon-clock"}),e._v(" "),n("span",[e._v(e._s(e.slide.created_at.slice(0,10)))])]),e._v(" "),e.slide.slide_view_count>0?n("span",{staticClass:"InfoCard-detail"},[n("i",{staticClass:"icon-eye"}),e._v(" "),n("span",[e._v(e._s(e.slide.slide_view_count))])]):e._e(),e._v(" "),n("span",{staticClass:"InfoCard-detail InfoCard-detail--right","class":{"is-hidden":e.slidePermissionType.PUBLIC.includes(e.slide.slide_permission),"InfoCard-detail--selfVisible":e.slide.slide_permission===e.slidePermissionType.SELF_VISIBLE,"InfoCard-detail--needCode":e.slide.slide_permission===e.slidePermissionType.NEED_CODE,"InfoCard-detail--intranet":e.slide.slide_permission===e.slidePermissionType.INTRANET},attrs:{"data-balloon":e.permissionHint,"data-balloon-pos":"up"}},[n("i",{staticClass:"icon-lock"})])]):e._e(),e._v(" "),e._t("control")],2)],2)},i=[],s=n(2),o=n(384),u={props:{slide:{type:Object},tag:{type:String},type:{type:String}},data:function(){return{tagMap:{copy:"副本",importWaiting:"导入中",importProcessing:"导入中",importError:"导入失败"},slidePermissionType:o.a}},computed:{tagContent:function(){return this.tagMap[this.tag]},tagBgColor:function(){return"InfoCard-tag--"+this.tag},permissionHint:function(){switch(parseInt(this.slide.slide_permission,10)){case 1:return"仅为自己可见";case 2:return"分享需要密码";case 3:return"仅为360内网可见";default:return!1}},InfoCardDisableClick:function(){var t=[undefined,-1,6],n=t.indexOf(this.slide.slide_import_status)>-1;return n?"":"InfoCard-disableClick"}},methods:{jumpToLecturer:function(){window.open(this.slide.user_link)},jumpToDisplay:function(){var t=[undefined,-1,6],n=t.indexOf(this.slide.slide_import_status)>-1;n&&window.open((this.type==="template"?"/template/":"/d/")+this.slide.slide_id)},shareSlide:function(t){s.a.$emit("open-resource-share",t.slide_id)}}},a=u,f=n(603),l=n(8),c=Object(l.a)(a,r,i,!1,null,null,null),h=t.a=c.exports},524:function(e,t,n){},564:function(e,t,n){"use strict";var r=n(401),i=n.n(r),s=i.a},570:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("slide-countdown",{directives:[{name:"show",rawName:"v-show",value:e.autoplayAble,expression:"autoplayAble"}],ref:"counter",staticClass:"PageDisplay-counter",attrs:{"background-fill":e.countdownStyle.backgroundFill,"background-stroke":e.countdownStyle.backgroundStroke}}),e._v(" "),n("audio",{ref:"audio"})],1)},i=[],s=n(1),o=n(2),u=n(7),a=n.n(u),f=n(31),l=n.n(f),c=n(74);s.s&&n(930);var h={serverCacheKey:function(){return"slide-player"},props:{slide:{type:Object,required:!0},slideInfo:{type:Object,required:!0},countdownStyle:{type:Object,"default":function(){return{backgroundFill:"#888",backgroundStroke:"#555"}}}},data:function(){return{pageIndex:-1,hashFlip:!1,autoFlip:!1,onceHashFlip:!1,autoplaying:!0,resumable:!1,autoplayAble:!0,fragmentPlayStrategy:{},currentFragmentStrategy:[],currentFragmentTimer:null,autoFragmentBehavior:!1,fragmentResting:!1,revealPrepared:!1,audioPrepared:!1,hasAudio:!1,rawAudios:[],processedAudio:[],totalDuration:0,processedDuration:0,needToReplay:!1}},computed:{pageDuration:function(){return parseInt(this.slideInfo.slide_autoplay_interval||"0",10)}},created:function(){var t=this;this.unwatchReady=this.$watch(function(){return!t.autoplayAble||t.revealPrepared&&t.audioPrepared},this.unveiled),o.a.$on("autoplay-page-done",this.next),o.a.$on("autoplay-toggle",this.toggle),parseInt(this.slideInfo.slide_autoplay_interval||"0",10)||(this.autoplayAble=!1)},mounted:function(){this.bindEvents(),this.autoplayAble&&this.prepareForPlayer(),setTimeout(s.K,1e4)},beforeDestroy:function(){this.bindEvents(!0),o.a.$off("autoplay-page-done",this.next),o.a.$off("autoplay-toggle",this.toggle),this.unwatchReady()},methods:{bindEvents:function(t){var n=t?"removeEventListener":"addEventListener";l.a[n]("slidechanged",this.handleSlideChange),l.a[n]("fragmentshown",this.handleFragmentBehavior),l.a[n]("fragmentshown",this.handleFragmentShowEvent),l.a[n]("fragmenthidden",this.handleFragmentBehavior),l.a[n]("fragmenthidden",this.handleFragmentHideEvent),l.a[n]("paused",this.revealToggle),l.a[n]("resumed",this.revealToggle),l.a[n]("ready",this.revealReady)},prepareForPlayer:function(){var t=this;this.slide.pages.forEach(function(e,n){t.rawAudios.push(Object.assign({},e.audio,{pageIndex:n}));if(e.audio){t.hasAudio=!0;if(!Object(s.y)(e.audio.fragment)){var r=[],i=e.audio.fragment;for(var o in i)r.push({behavior:i[o],time:Number.parseInt(o,10)});t.fragmentPlayStrategy[n]=r.sort(function(e,t){return e.time-t.time}).map(function(e,t){return Object.assign({},e,{interval:e.time-(r[t-1]||{time:0}).time})});return}}var u=e.elements.reduce(function(e,t){return t.fragment?Math.max(e,t.fragment.index):e},-1);if(u>0){var a=~~(t.slideInfo.slide_autoplay_interval/(u+2));t.fragmentPlayStrategy[n]=(new Array(u+1)).fill({behavior:"next",interval:a}).map(function(e,t){return Object.assign({},e,{time:e.interval*(t+1)})})}}),this.preloadAudio()},preloadAudio:function(){if(!this.hasAudio){this.audioPrepared=!0;return}var t=this._getHashPage();this.rawAudios=this.rawAudios.concat(this.rawAudios.splice(0,t)),this.totalDuration=this.rawAudios.reduce(function(e,t){return e+(t.duration||0)},0),this.processedAudio=new Array(this.rawAudios.length),this.oneByOnePreload(0)},oneByOnePreload:function(t){var n=this;if(t>=this.rawAudios.length)return;var r=this.rawAudios[t].url;r?this._getPlayableUrl(r).then(function(e){a.a.set(n.processedAudio,n.rawAudios[t].pageIndex,Object.assign({},n.rawAudios[t],{url:e})),n.processedDuration+=n.rawAudios[t].duration,!n.audioPrepared&&n.processedDuration>=n.totalDuration/2&&(n.audioPrepared=!0),n.oneByOnePreload(t+1)}):(a.a.set(this.processedAudio,this.rawAudios[t].pageIndex,Object.assign({},this.rawAudios[t])),this.oneByOnePreload(t+1))},_getPlayableUrl:function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){Object(s.b)(r.response).then(function(t){var n=AMR.toWAV(t),r=new Blob([n],{type:"audio/wav"});e(window.URL.createObjectURL(r))})},r.send()})},handleFragmentEvent:function(t,n){var r=n.fragment,i=r.parentNode,s=i.querySelector("iframe");if(s){var o={namespace:"reveal",eventName:t,state:l.a.getState()};s.contentWindow.postMessage(o,"*")}},handleFragmentShowEvent:function(t){return this.handleFragmentEvent("fragmentshown",t)},handleFragmentHideEvent:function(t){return this.handleFragmentEvent("fragmenthidden",t)},revealReady:function(){l.a.configure({history:!0}),this.revealPrepared=!0},revealToggle:function(t){t.type==="paused"&&this.autoplaying?this.pause():t.type==="resumed"&&this.resumable&&this.resume()},unveiled:function(){Object(s.K)().then(this.handleReady)},handleReady:function(t){var n=this._getHashPage();this.pageIndex===n?this.play():(this.onceHashFlip=!0,this.pageIndex=n)},_getHashPage:function(){var t=location.hash;return Math.min(this.slide.pages.length-1,t?t.match(/#\/(\d+)/)?Number.parseInt(t.match(/#\/(\d+)/)[1],10):0:0)},next:function(){this.autoFlip=!0,this.pageIndex+1<this.slide.pages.length?l.a.slide(this.pageIndex+1):(this.stop(!0),this.autoFlip=!1)},handleSlideChange:function(t){this.pageIndex=t.indexh},handleFragmentBehavior:function(t){if(this.fragmentResting)return;if(this.autoFragmentBehavior){this.autoFragmentBehavior=!1;return}this.reset()},play:function(){if(!this.autoplayAble)return;this.autoFlip?(this.playCounter(),this.autoFlip=!1):this.hashFlip?this.startCounter():this.onceHashFlip?(this.startCounter(),this.onceHashFlip=!1):this.startCounter(),this.startPlayFragment(),this.startPlayAudio(),this.autoplaying=!0},pause:function(){this.pauseCounter(),this.stopPlayFragment(),this.pausePlayAudio(),this.autoplaying=!1,this.resumable=!0},resume:function(){this.resumeCounter(),this.resumePlayFragment(),this.resumePlayAudio(),this.autoplaying=!0,this.resumable=!1,l.a.isPaused()&&l.a.togglePause()},reset:function(){(this.resumable||this.needToReplay||this.autoplaying)&&this.stop()},stop:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;this.stopCounter(t),this.stopPlayFragment(),this.stopPlayAudio(),this.autoplaying=!1,this.resumable=!1,this.needToReplay=t},toggle:function(){var t=this;if(this.autoplaying)this.pause();else if(this.resumable)this.resume();else if(this.needToReplay){l.a.slide(0);while(l.a.prevFragment());this.$nextTick(function(){t.play(),t.needToReplay=!1})}else this.play()},startCounter:function(){this.$refs.counter.run(this.pageDuration,!0)},playCounter:function(){this.$refs.counter.run(this.pageDuration,!1)},pauseCounter:function(){this.$refs.counter.pause()},resumeCounter:function(){this.$refs.counter.resume()},stopCounter:function(t){this.$refs.counter.stop(t)},startPlayFragment:function(){this.fragmentResting=!0;while(l.a.prevFragment());this.fragmentResting=!1,this.currentFragmentStrategy=(this.fragmentPlayStrategy[this.pageIndex]||[]).slice(),this._playFragment()},stopPlayFragment:function(){clearTimeout(this.currentFragmentTimer)},resumePlayFragment:function(){if(this.currentFragmentStrategy[0]){var t=this.$refs.counter,n=t.lastTime-t.remainTime,r=this.currentFragmentStrategy[0].time-n;this._playFragment(r)}},_playFragment:function(t){var n=this,r=this.currentFragmentStrategy[0];r&&(this.currentFragmentTimer=setTimeout(function(){l.a.availableFragments()[r.behavior]&&(n.autoFragmentBehavior=!0,l.a[r.behavior+"Fragment"]()),n.currentFragmentStrategy.shift(),n._playFragment()},t||r.interval))},startPlayAudio:function(){var t=this.processedAudio[this.pageIndex];this.hasAudio&&!t&&console.error("该页的录音未加载完毕啊哦");var n=this;if(this.hasAudio&&t&&t.url){var r=new XMLHttpRequest;r.open("GET",t.url,!0),r.responseType="blob",r.onload=function(e){var t=this.response,r=new FileReader;r.onload=function(e){n.$refs.audio.src=e.target.result;var t=n.$refs.audio.play();t&&t.then(function(e){},function(){c.a.confirm("由于浏览器策略导致录制的演讲音频无法自动播放，请确定允许播放音频文件",function(e){e&&n.play()}),n.pause()}),window.WeixinJSBridge&&WeixinJSBridge.invoke("getNetworkType",{},function(e){n.$refs.audio.play()})},r.readAsDataURL(t)},r.send()}},resumePlayAudio:function(){var t=this,n=this.processedAudio[this.pageIndex];this.hasAudio&&!n&&console.error("该页的录音未加载完毕啊哦"),this.hasAudio&&n&&n.url&&(this.$refs.audio.play(),window.WeixinJSBridge&&WeixinJSBridge.invoke("getNetworkType",{},function(e){t.$refs.audio.play()}))},pausePlayAudio:function(){var t=this.processedAudio[this.pageIndex];this.hasAudio&&!t&&console.error("该页的录音未加载完毕啊哦"),this.hasAudio&&t&&t.url&&this.$refs.audio.pause()},stopPlayAudio:function(){this.hasAudio&&(this.$refs.audio.pause(),this.$refs.audio.currentTime=0)}},watch:{pageIndex:function(t,n){this.autoplayAble&&(this.autoplaying?this.autoFlip||this.hashFlip||this.onceHashFlip?this.play():this.stop():this.reset())}}},p=h,d=n(8),v=Object(d.a)(p,r,i,!1,null,null,null),m=t.a=v.exports},571:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"SlideCountdown-container"},[n("canvas",{ref:"canvas",staticClass:"SlideCountdown",attrs:{width:"50",height:"50"},on:{click:e.toggle}},[e._v("\n    Your browser does not support the canvas element.\n  ")])])},i=[],s=n(659),o=n(2),u={serverCacheKey:function(){return"slide-countdown"},props:{backgroundFill:{type:String,"default":"#888"},backgroundStroke:{type:String,"default":"#555"}},data:function(){return{timer:null,backDegree:undefined,endDegree:undefined,interval:16,lastTime:undefined,remainTime:0}},computed:{cxt:function(){return this.$refs.canvas.getContext("2d")}},mounted:function(){this.stop()},methods:{run:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;this.isFirstTime=n,this.endDegree=-0.5,this.backDegree=-0.5,this.lastTime=t,this.remainTime=t,this._run(),this._setTimer()},pause:function(){this.stop(),this._animeCircle(this.endDegree)},stop:function(t){clearInterval(this.timer),this.cxt.clearRect(0,0,50,50),this._backgroundCircle(),t?this._replayIcon():this._playIcon()},resume:function(){var t=this.lastTime-this.remainTime;this.endDegree=-0.5+2*t/this.lastTime,this.backDegree=-0.5+.08*t/this.interval,this._run(),this._setTimer()},done:function(){o.a.$emit("autoplay-page-done"),this.remainTime=0},toggle:function(){o.a.$emit("autoplay-toggle")},_setTimer:function(){var t=this;clearInterval(this.timer),this.timer=setInterval(function(){t._run()},this.interval)},_run:function(){this.remainTime===this.lastTime,this.remainTime>0?(this.cxt.clearRect(0,0,50,50),this._backgroundCircle(),this._pauseIcon(),this.endDegree+=2/(this.lastTime/this.interval),this._animeCircle(this.endDegree),this.remainTime-=this.interval,this.isFirstTime||this.backDegree<1.3&&(this._backCircle(this.backDegree),this.backDegree+=.08)):(clearInterval(this.timer),this.done())},_backCircle:function(t){this.cxt.beginPath(),this.cxt.arc(25,25,20,-0.5*Math.PI,t*Math.PI,!0),this.cxt.lineWidth=2.5,this.cxt.strokeStyle="#ffffff",this.cxt.stroke()},_backgroundCircle:function(){this.cxt.beginPath(),this.cxt.arc(25,25,19.6,-0.5*Math.PI,1.5*Math.PI,!1),this.cxt.fillStyle=this.backgroundFill,this.cxt.strokeStyle=this.backgroundStroke,this.cxt.lineWidth=2.5,this.cxt.closePath(),this.cxt.fill(),this.cxt.stroke()},_pauseIcon:function(){this.cxt.beginPath(),this.cxt.moveTo(20,18),this.cxt.lineTo(20,32),this.cxt.moveTo(30,18),this.cxt.lineTo(30,32),this.cxt.lineWidth=3,this.cxt.strokeStyle="white",this.cxt.closePath(),this.cxt.stroke()},_playIcon:function(){this.cxt.beginPath(),this.cxt.moveTo(20,18.3),this.cxt.lineTo(31.7,25),this.cxt.lineTo(20,31.7),this.cxt.fillStyle="white",this.cxt.closePath(),this.cxt.fill()},_replayIcon:function(){this.cxt.beginPath(),this.cxt.moveTo(25,14),this.cxt.lineTo(25,20),this.cxt.lineTo(20,17),this.cxt.fillStyle="white",this.cxt.fill(),this.cxt.moveTo(25,14),this.cxt.arc(25,25,8,-0.5*Math.PI,Math.PI,!1),this.cxt.lineWidth=2,this.cxt.strokeStyle="white",this.cxt.stroke()},_animeCircle:function(t){this.cxt.beginPath(),this.cxt.arc(25,25,20,-0.5*Math.PI,t*Math.PI,!1),this.cxt.lineWidth=2.5,this.cxt.strokeStyle="#ffffff",this.cxt.stroke()}}},a=u,f=n(8),l=Object(f.a)(a,r,i,!1,null,null,null),c=t.a=l.exports},595:function(e,t,n){"use strict";var r=n(425),i=n.n(r),s=i.a},603:function(e,t,n){"use strict";var r=n(426),i=n.n(r),s=i.a},659:function(e,t,n){},673:function(e,t){},674:function(e,t){},675:function(e,t){},676:function(e,t){},7:function(e,t){e.exports=Vue},75:function(e,t,n){"use strict";function a(e){if(e.target.tagName.toUpperCase()==="INPUT"||e.target.tagName.toUpperCase()==="TEXTAREA")return;e.preventDefault()}function f(e){if(e.target.tagName.toUpperCase()==="INPUT"||e.target.tagName.toUpperCase()==="TEXTAREA")return;var t={37:1,38:1,39:1,40:1};if(t[e.keyCode])return a(e),!1}var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"outer",staticClass:"Dialog","class":{"Dialog--hide":!e.show,"Dialog--nomask":!e.mask,"Dialog--notransition":e.noTransition}},[e.mask?n("div",{staticClass:"Dialog-mask",style:e.maskStyles,on:{click:function(t){e.maskClose?e.cancel():function(){}}}}):e._e(),e._v(" "),n("div",{staticClass:"Dialog-body","class":{"Dialog-body--no-center":e.noCenter},style:e.bodyStyle,attrs:{"data-pos":e.pos,arrow:e.arrow}},[e._t("default",[n("div",{staticClass:"Dialog-inner u-text-center"},[n("h3",{staticClass:"Dialog-title",domProps:{innerHTML:e._s(e.msg)}}),e._v(" "),n("div",[n("button",{directives:[{name:"show",rawName:"v-show",value:e.mode!="alert",expression:"mode != 'alert'"}],staticClass:"Button Button--secondary Button--outline",on:{click:function(t){e.cancel()}}},[e._v("取消")]),e._v(" "),n("button",{staticClass:"Button Button--accent",on:{click:function(t){e.confirm()}}},[e._v("确定")])])])])],2)])},i=[],s=n(1),o=n(2),u={props:{title:String,msg:String,mode:{type:String,"default":"confirm"},posRelativeTo:{"default":null},pos:{type:String,"default":"center"},callback:{type:Function,"default":null},maskStyles:{type:Object},maskClose:{type:Boolean,"default":!0},arrow:{type:[Boolean,String],"default":!0},topBias:{type:Number,"default":0},leftBias:{type:Number,"default":0},mask:{type:Boolean,"default":!0},noCenter:{type:Boolean,"default":!1},noTransition:{type:Boolean,"default":!1},autoclose:{type:Boolean,"default":!0},bodyStyle:{type:Object,"default":function(){}}},data:function(){return{show:!1}},created:function(){s.s&&(window.addEventListener("resize",this._adjustPos),window.addEventListener("click",this._clickSpy,!0))},mounted:function(){Object(s.y)(this.$slots)&&(o.a.$on("press-escape-button",this._escape),o.a.$on("press-enter-button",this._enter))},beforeDestroy:function(){window.removeEventListener("resize",this._adjustPos),window.removeEventListener("click",this._clickSpy,!0),Object(s.y)(this.$slots)&&(o.a.$off("press-escape-button",this._escape),o.a.$off("press-enter-button",this._enter))},methods:{cancel:function(){this.close(),this.callback&&this.callback(!1)},confirm:function(){if(!this.show)return;this.close(),this.callback&&this.callback(!0)},close:function(){this.show=!1,this._enableScroll()},open:function(){this.show&&this.close(),document.body.appendChild(this.$el),this.show=!0,this._adjustPos(),this._disableScroll()},_clickSpy:function(t){this.autoclose&&!this.mask&&this.show&&!Object(s.F)(this.$refs.outer,t.target)&&this.close()},_adjustPos:function(){if(this.posRelativeTo&&this.pos!=="center"){var t=this.posRelativeTo.getBoundingClientRect(),n=this.$el.querySelector(".Dialog-body"),r,i;this.pos==="left"?(r=t.top+t.height/2+this.topBias,i=t.left-15+this.leftBias):this.pos==="right"?(r=t.top+t.height/2+this.topBias,i=t.right+15+this.leftBias):this.pos==="top"?(r=t.top-15+this.topBias,i=t.left+t.width/2+this.leftBias):this.pos==="bottom"?(r=t.bottom+15+this.topBias,i=t.left+t.width/2+this.leftBias):this.pos==="tl"&&(r=t.top-15+this.topBias,i=t.left+t.width/2+this.leftBias);try{if(!Object(s.y)(this.$slots)&&this.$slots["default"]){var o=this.$slots["default"][0].elm,u=o.offsetHeight*(this.pos.match(/^b/)?1:this.pos.match(/^t/)?0:.5),a=o.offsetWidth*(this.pos.match(/^(t|b)/)?.5:this.pos.match(/^r/)?1:0);r=Math.min(r,window.innerHeight-u),i=Math.min(i,window.innerWidth-a)}}catch(f){console.error(f)}n.style.top=(r||0)+"px",n.style.left=(i||0)+"px"}else{var l=this.$el.querySelector(".Dialog-body");l.style.top="",l.style.left=""}},_disableScroll:function(){window.addEventListener("wheel",a),window.addEventListener("mousewheel",a),window.addEventListener("touchmove",a),window.addEventListener("keydown",f)},_enableScroll:function(){window.removeEventListener("wheel",a),window.removeEventListener("mousewheel",a),window.removeEventListener("touchmove",a),window.removeEventListener("keydown",f)},_escape:function(t){this.show&&Object(s.y)(this.$slots)&&(this.mode==="confirm"?this.cancel():this.mode==="alert"&&this.confirm())},_enter:function(){this.show&&Object(s.y)(this.$slots)&&(this.mode==="confirm"||this.mode==="alert")&&this.confirm()}}},l=u,c=n(435),h=n(8),p=Object(h.a)(l,r,i,!1,null,null,null),d=t.a=p.exports},931:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIzODExIDI4MDMuMSA0NDAuNSAxNjUuOCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAzODExIDI4MDMuMSA0NDAuNSAxNjUuODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7fQoJLnN0MXtmaWxsOiMzN0NDOEU7fQoJLnN0MntvcGFjaXR5OjAuNTtmaWxsOiMzN0NDOEU7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDt9Cgkuc3Qze29wYWNpdHk6MC44O2ZpbGw6IzM3Q0M4RTtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwNTAuNywyOTEzLjdoNTAuNWMxMywwLjMsMTguNS00LjgsMTguMS0xNS4zdi0yNy41aC04MS42djQyLjhjMC44LDkuNi0yLjcsMTguMy0xMi44LDIzLjF2Ni4yCglDNDA0My40LDI5MzYuOSw0MDUxLjUsMjkyNi40LDQwNTAuNywyOTEzLjdMNDA1MC43LDI5MTMuN3ogTTQwNzIuNywyODc4djI4LjVoLTIyVjI4NzhINDA3Mi43eiBNNDEwNi40LDI5MDAuNAoJYzAuNCw0LjQtMC40LDYuMS02LjUsNi4xaC0xNS41VjI4NzhoMjJWMjkwMC40eiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDA3Mi43LDI4NDYuNnYxMC4yaC0zNXY3LjFoODEuNnYtNy4xaC0zNXYtMTAuMmg0Ny45di03LjFoLTQ3Ljl2LTkuMmgtMTEuN3Y5LjJoLTQ3Ljl2Ny4xSDQwNzIuN3oiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwNzIuNywyODQ2LjZ2MTAuMmgtMzV2Ny4xaDgxLjZ2LTcuMWgtMzV2LTEwLjJoNDcuOXYtNy4xaC00Ny45di05LjJoLTExLjd2OS4yaC00Ny45djcuMUg0MDcyLjd6Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MjUxLjUsMjg0Ni42di03LjFoLTQ2LjZ2LTkuMmgtMTEuN3Y5LjJoLTQ3Ljl2Ny4xSDQyNTEuNXoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQxOTAuNiwyOTEzLjd2MTEuMWMwLjQsNS40LTQsOC40LTExLjcsOC4yaC0zLjlsLTMuOSw3LjFoMTEuN2MxMywwLjMsMTkuOC01LjcsMTkuNC0xNS4zdi0xMS4xaDQ5LjJ2LTcuMQoJaC00OS4ybDAuMS0wLjZjMTYuNi0zLjIsMjQtNy45LDM2LjEtMTMuNnYtNy4xaC04MC4zdjcuMWg2My41Yy05LjcsMy44LTE3LDcuMy0zMS4xLDEwLjJ2NGgtNDUuM3Y3LjFINDE5MC42eiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDIxOS4xLDI4NzkuMWMxMy4zLDAuNiwyMC4yLTQsMTkuNC0xNC4zdi0xMi4yaC04MC4zdjI2LjRINDIxOS4xeiBNNDE3MS4yLDI4NTkuOGg1NC40djUuMQoJYzAuMyw1LjMtMS4zLDcuNC03LjgsNy4xaC00Ni42VjI4NTkuOHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTM5MDUuMSwyODAzLjdsMS45LDAuMWMwLjYtMC41LDEuNC0wLjgsMi4zLTAuOGMxLDAsMi4xLDAuNCwyLjcsMWwxLjYsMC4xYzEwLDE1LjcsMzMuMyw1Mi4xLDMzLjMsNTIuMWgtMjcuMgoJbC0xMS40LTMyLjFsLTEzLjIsNDAuNGg1NS43bDExLjcsMTcuN2gtMTA3LjVDMzg1NS4xLDI4ODIuNSwzODkyLjQsMjgyMy43LDM5MDUuMSwyODAzLjd6IE0zOTEyLjYsMjk2Ny4xaC0wLjkKCWMtMC42LDEuMi0xLjksMS44LTMuNCwxLjhjLTEuNywwLTMuMS0wLjktMy42LTIuM2gtMC42Yy0xMC0xNS43LTMzLjMtNTIuMS0zMy4zLTUyLjFoMjcuMmwxMS40LDMyLjFsMTMuMi00MC40aC01NS43bC0xMS43LTE3LjcKCWgxMDcuNUMzOTYyLjYsMjg4OC4zLDM5MjUuMywyOTQ3LjEsMzkxMi42LDI5NjcuMXoiLz4KPHBhdGggY2xhc3M9InN0MiIgZD0iTTM5ODguMiwyOTE4LjhjNS44LTguNiw5LjMtMTkuNCw5LjMtMzEuNGMwLTExLjEtMy4xLTIxLjQtOC4zLTI5LjdjOS41LDUuNCwxNi4xLDE3LDE2LjEsMzAuMgoJQzQwMDUuMywyOTAxLjksMzk5OC4yLDI5MTMuNywzOTg4LjIsMjkxOC44eiIvPgo8cGF0aCBjbGFzcz0ic3QzIiBkPSJNMzk2NC4zLDI5MzIuMWM3LjktMTIuMywxMi42LTI4LjEsMTIuNi00NS4yYzAtMTUuOS00LjEtMzAuNy0xMS00Mi42YzEyLjcsNy45LDIxLjQsMjQuNCwyMS40LDQzLjQKCUMzOTg3LjIsMjkwNy42LDM5NzcuNywyOTI0LjcsMzk2NC4zLDI5MzIuMXoiLz4KPHBhdGggY2xhc3M9InN0MiIgZD0iTTM4MTguOCwyODg5YzAsMTEsMy4xLDIxLjIsOC4yLDI5LjVjLTkuNS01LjQtMTUuOS0xNi44LTE1LjktMzAuMmMwLTEzLjksNy4xLTI1LjcsMTcuMi0zMC44CglDMzgyMi4zLDI4NjYuMiwzODE4LjgsMjg3Ny4xLDM4MTguOCwyODg5eiIvPgo8cGF0aCBjbGFzcz0ic3QzIiBkPSJNMzg0Mi4xLDI4ODguNWMwLDE1LjksNC4xLDMwLjcsMTEsNDIuNmMtMTIuNy03LjktMjEuNC0yNC40LTIxLjQtNDMuNGMwLTE5LjgsOS41LTM2LjksMjIuOS00NC4zCglDMzg0Ni45LDI4NTUuOCwzODQyLjEsMjg3MS40LDM4NDIuMSwyODg4LjV6Ii8+Cjwvc3ZnPgo="},982:function(e,t,n){}});